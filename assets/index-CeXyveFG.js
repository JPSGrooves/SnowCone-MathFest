(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const l="snowcone_save_data";function d(){const e=localStorage.getItem(l);try{return e?JSON.parse(e):f()}catch(o){return console.error("💥 Failed to parse stored data:",o),f()}}function g(e){localStorage.setItem(l,JSON.stringify(e))}function i(e,o){const n=d();n.settings[e]=o,g(n)}function f(){return{settings:{theme:"menubackground",mute:!1},xp:0,badges:[],profile:{name:"",created:Date.now()},story:{currentChapter:0}}}function p(){var r;const e=document.getElementById("menuImage");if(!e){console.warn("🍧 No menuImage element found!");return}let n=(r=d().settings)==null?void 0:r.theme;(!n||typeof n!="string"||n==="default")&&(n="menubackground",i("theme",n)),e.src=`assets/img/branding/${n}.png`,console.log("🧊 Background set to:",n),y(n)}function y(e){const o=h[e];o&&Object.entries(o).forEach(([n,r])=>{const t=document.querySelector(`.menu-label.${n}`);t&&(t.style.color=r)})}function w(e){const o=document.getElementById("menuImage");if(!o){console.warn("🚨 No #menuImage found to swap.");return}typeof i=="function"&&i("theme",e),o.src=`assets/img/branding/${e}.png`,console.log(`🌌 Swapped to theme: ${e}`)}window.swapBackground=w;const h={cosmic_07:{kids:"#ffffff",quick:"#ffffff",tips:"#ffffff",story:"#ffffff",infinity:"#ffffff",options:"#ffffff"},fall:{kids:"#ffaa00",quick:"#ff6600",tips:"#66cc33",story:"#cc6633",infinity:"#ffffff",options:"#663300"}};function u(){const e=document.getElementById("infoModal");e&&(e.classList.remove("hidden"),e.style.display="flex")}function m(){const e=document.getElementById("infoModal");e&&(e.classList.add("hidden"),e.style.display="none")}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".menu-title-top");e?(console.log("🎯 Title found. Binding click."),e.addEventListener("click",()=>{console.log("🎯 Title click detected"),u()})):console.warn("⚠️ .menu-title-top not found!")});document.addEventListener("keydown",e=>{e.key==="Escape"&&m()});console.log("🍧 infoModal.js loaded");window.openInfoModal=u;window.closeInfoModal=m;window.addEventListener("DOMContentLoaded",()=>{p()});console.log("🔐 VITE_SECRET_KEY:","radical123");let a=0;document.addEventListener("touchend",function(e){const o=new Date().getTime();o-a<=300&&e.preventDefault(),a=o},!0);document.addEventListener("gesturestart",function(e){e.preventDefault()});
