(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const u="snowcone_save_data";function d(){const t=localStorage.getItem(u);try{return t?JSON.parse(t):c()}catch(r){return console.error("💥 Failed to parse stored data:",r),c()}}function l(t){localStorage.setItem(u,JSON.stringify(t))}function f(t,r){const n=d();n.settings[t]=r,l(n)}function c(){return{settings:{theme:"menubackground",mute:!1},xp:0,badges:[],profile:{name:"",created:Date.now()},story:{currentChapter:0}}}function g(){var s;const t=document.getElementById("menuImage");if(!t){console.warn("🍧 No menuImage element found!");return}let n=(s=d().settings)==null?void 0:s.theme;(!n||typeof n!="string"||n==="default")&&(n="menubackground",f("theme",n)),t.src=`assets/img/branding/${n}.png`,console.log("🧊 Background set to:",n)}window.addEventListener("DOMContentLoaded",()=>{g()});console.log("🔐 VITE_SECRET_KEY:","radical123");let i=0;document.addEventListener("touchend",function(t){const r=new Date().getTime();r-i<=300&&t.preventDefault(),i=r},!0);document.addEventListener("gesturestart",function(t){t.preventDefault()});
