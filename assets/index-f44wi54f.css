.cosmic-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:9999;pointer-events:auto}.cosmic-modal.hidden{display:none}.cosmic-modal-inner{background:#141414f2;border:2px solid #00ccff;border-radius:20px;padding:1em;width:90vw;max-width:56.25vh;aspect-ratio:9 / 12;box-shadow:0 0 20px #0cf;position:relative;height:auto;max-height:90vh;display:flex;flex-direction:column;overflow-y:auto;scrollbar-gutter:stable;padding-right:calc(1em + 6px);scrollbar-width:none}.cosmic-modal-inner::-webkit-scrollbar{display:none}.close-modal{position:absolute;top:19px;right:10px;width:1.8rem;height:1.8rem;border:none;border-radius:50%;background:#0009;color:#0cf;font-size:1.2rem;font-family:Orbitron,sans-serif;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 0 6px #0cf,0 0 10px #0cf;z-index:10000;transition:transform .2s ease}.close-modal:hover{background:#000c;color:#fff;box-shadow:0 0 8px #fff;transform:scale(1.1)}.tab-content{font-family:Orbitron,sans-serif;font-size:clamp(1.1rem,2.3vmin,1.7rem);color:#fff;line-height:1.5;text-shadow:none;padding-bottom:2em}.tab-content h2{font-size:clamp(1.4rem,3vmin,2.2rem);color:#fff;text-align:center;margin-bottom:.5em}.qs-grid{display:grid;grid-template-areas:"header" "stage" "math" "keypad";grid-template-rows:minmax(6%,10%) minmax(24%,34%) minmax(18%,26%) minmax(28%,40%);padding:1rem;padding:.5rem;gap:.5rem;width:100%;height:100%;color:#fff;position:relative;z-index:2;background:#0006;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-sizing:border-box}.aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden;position:relative;display:flex;justify-content:center;align-items:center}.qs-header{grid-area:header;display:flex;justify-content:center;align-items:center}.qs-header h1{font-size:clamp(1.2rem,4.5vh,2.6rem);font-family:Orbitron,sans-serif;color:#0fe;text-shadow:0 0 4px #00ffee,0 0 8px #00ffeeaa,0 0 16px #00ffee55;animation:pulseTitle 3s infinite ease-in-out;text-align:center;letter-spacing:.08em;margin:0;padding:.4em 0}@keyframes pulseTitle{0%,to{text-shadow:0 0 4px #00ffee,0 0 8px #00ffeeaa,0 0 16px #00ffee55;transform:scale(1)}50%{text-shadow:0 0 6px #ff66ff,0 0 12px #ff66ffaa,0 0 20px #ff66ff55;transform:scale(1.02)}}.qs-stage{grid-area:stage;position:relative;display:flex;align-items:flex-start;justify-content:center;padding:.5rem;border:2px dashed #00ffee88;border-radius:12px;background:#ffffff0a;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);overflow:hidden;min-height:20vh;max-height:clamp(120px,30vh,200px)}.qs-stage .score-box{position:absolute;left:clamp(.5rem,2vw,1rem);top:clamp(.5rem,2vh,1rem);width:clamp(77px,15.4vw,154px);height:clamp(55px,8.8vh,77px);z-index:2}.qs-stage .timer-box{position:absolute;right:clamp(.5rem,2vw,1rem);top:clamp(.5rem,2vh,1rem);width:clamp(77px,15.4vw,154px);height:clamp(55px,8.8vh,77px);z-index:2}.qs-stage .info-box{font-size:clamp(.6rem,1.6vw,1.2rem);font-weight:700;color:#0fe;border:2px solid #00ffee88;border-radius:12px;background:#000000b3;box-shadow:0 0 8px #0fe8;display:flex;align-items:center;justify-content:center;text-align:center;padding:.4;flex-direction:column;line-height:1.2}.phil-wrapper{display:flex;align-items:flex-start;justify-content:center;max-height:70%;max-width:60%;z-index:2;pointer-events:none;position:relative;transform:translateY(8%)}.phil-img{max-height:90%;width:auto;height:auto;object-fit:contain;transition:opacity .4s ease;pointer-events:none;-webkit-user-select:none;user-select:none}.phil-wrapper.in-game{max-height:clamp(100px,30%,180px);transform:translateY(10%)}#philSprite:after{content:"🐱";position:absolute;top:0;left:0}.info-box{font-size:1.2rem;font-weight:700;color:#0fe;border:2px solid #00ffee88;padding:.4rem .8rem;border-radius:12px;background:#000000b3;box-shadow:0 0 8px #0fe8;display:flex;align-items:center;flex-direction:column;justify-content:center;text-align:center;font-size:clamp(.6rem,1.5vw,1rem);line-height:1.2}.glow-lines{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:0}.glow-line{position:absolute;left:0;width:100%;height:2px;background:#0fe;opacity:.2;box-shadow:0 0 16px #0fea;transition:opacity .2s ease,transform .2s ease}.glow-line:nth-child(1){top:20%}.glow-line:nth-child(2){top:50%}.glow-line:nth-child(3){top:80%}.qs-math{grid-area:math;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.4rem;padding:.5rem;border:2px solid #00ffee88;border-radius:12px;background:#0009;-webkit-backdrop-filter:blur(8px) saturate(120%);backdrop-filter:blur(8px) saturate(120%);box-sizing:border-box;overflow:hidden;font-size:clamp(1.5rem,4vmin,2.2rem);min-height:unset;max-height:100%;height:100%;flex-shrink:1}.center-stack{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.4rem;max-height:100%;width:100%;overflow:hidden;flex-shrink:1}.math-problem{font-weight:700;color:#fff;text-shadow:0 0 6px #ffffff88;text-align:center;justify-self:center;margin:0;padding:0;z-index:1;font-size:clamp(.3rem,4vh,2.2rem);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.answer-display{font-size:clamp(1.6rem,5vmin,2.6rem);font-weight:700;color:#0fe;text-shadow:0 0 8px #00ffee88;padding:.2rem .5rem;text-align:center;max-width:100%;overflow:hidden;line-height:1.1}.math-problem,.answer-display{font-size:clamp(1.2rem,4vh,2rem);max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.qs-result-msg{font-size:1.1rem;color:#fd5;min-height:1.5em;text-shadow:0 0 4px #ffdd5588}.qs-keypad{grid-area:keypad;display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(4,1fr);gap:.4rem;width:100%;max-height:0;aspect-ratio:5 / 4;box-sizing:border-box;max-height:clamp(180px,34vh,280px)}.qs-keypad button{background:linear-gradient(145deg,#000,#111);border:2px solid #00ffee;color:#fff;font-size:clamp(.7rem,2.5vh,1.4rem);border-radius:14px;box-shadow:0 0 12px #0fea,inset 0 0 10px #0fe2;width:100%;height:100%;cursor:pointer;transition:transform .05s ease,box-shadow .05s ease;display:flex;align-items:center;justify-content:center;text-align:center;line-height:1.2;padding:.2rem;overflow:hidden}.qs-keypad button:hover{box-shadow:0 0 20px #0fe,inset 0 0 14px #0fe4}.qs-keypad button:active{transform:scale(.95);box-shadow:0 0 16px #0fe,inset 0 0 10px #0fe5}.qs-keypad .empty{background:transparent;border:none;pointer-events:none}.qs-intro{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(1rem,2vh,2rem);height:100%;width:100%;background:#0006;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:12px;justify-content:flex-start;max-height:100%;overflow:hidden;padding:1rem;box-sizing:border-box}.qs-intro>*{max-width:100%}.qs-intro .phil-wrapper{max-height:60%}.qs-intro button{border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;max-width:90%;transition:transform .1s ease,box-shadow .1s ease;font-size:clamp(.7rem,2.2vh,1.2rem);padding:clamp(.4em,1vh,.8em) clamp(1em,2vh,1.8em);min-width:clamp(90px,16vw,160px)}.qs-intro button:hover{transform:scale(1.05);box-shadow:0 0 20px #0fe}.qs-intro button:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.start-show-btn{background:#0fe;color:#000;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.start-show-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #0fe}.start-show-btn:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.back-to-menu-btn{background:#f6f;color:#fff;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #f6fa;cursor:pointer;font-weight:700;text-shadow:0 0 4px #ff66ffaa;transition:transform .1s ease,box-shadow .1s ease}.back-to-menu-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #f6f}.back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px #f6f}.phil-speech{max-width:90%;background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;padding:1rem;color:#0fe;text-shadow:0 0 6px #00ffee88;box-shadow:0 0 16px #0fe5;position:relative;margin-bottom:1rem;text-align:center;animation:fadeInBubble 1s ease forwards;opacity:0;overflow:visible;line-height:1.35;font-size:clamp(-3rem,2.1vh,1.6rem);max-height:clamp(10rem,30vh,20rem)}.phil-speech:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:12px solid #00ffeeaa;filter:drop-shadow(0 0 6px #00ffee55)}.result-popup{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(.8rem,2vh,2rem);padding:clamp(1rem,2.5vh,2rem);background:#000000f2;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 24px #0fea;text-align:center;width:clamp(260px,90vw,420px);max-width:95vw;max-height:90vh;overflow:auto;font-size:clamp(1rem,2.2vh,1.4rem);animation:popupFadeIn .6s ease-out forwards,popupGlow 2.5s ease-in-out infinite}@keyframes popupFadeIn{0%{opacity:0;transform:scale(.95) translate(-50%,-50%)}to{opacity:1;transform:scale(1) translate(-50%,-50%)}}@keyframes popupGlow{0%,to{box-shadow:0 0 20px #0fe,0 0 40px #0fe5}50%{box-shadow:0 0 40px #0fea,0 0 60px #0fe8}}.result-popup h2{font-size:clamp(1.2rem,3vh,2.2rem);color:#0fe;text-shadow:0 0 8px #00ffee88}.result-popup p{font-size:clamp(1rem,2vh,1.3rem);color:#fff;margin:.5rem 0}.result-popup .play-again-btn{background:#0fe;color:#000;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.result-popup .play-again-btn,.result-popup .back-to-menu-btn{font-size:clamp(1rem,2.5vh,1.6rem);padding:clamp(.4rem,1vh,.8rem) clamp(1rem,2vh,2rem);min-width:clamp(120px,30vw,240px)}.result-popup .play-again-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #0fe}.result-popup .play-again-btn:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.result-popup .back-to-menu-btn{background:#f6f;color:#fff;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #f6fa;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.result-popup .back-to-menu-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #f6f}.result-popup .back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px #f6f}.fade-out{opacity:0;transition:opacity .4s ease}.result-phil img{max-height:80px;opacity:.9;margin-top:1rem}.equation-row{position:relative;display:flex;justify-content:center;align-items:center;width:100%}.qs-xp-msg{position:absolute;left:.5rem;top:.2rem;font-size:.9rem;font-weight:700;color:#0fe;text-shadow:0 0 4px #00ffee88}.qs-result-msg{position:absolute;right:.5rem;top:.2rem;font-size:.9rem;font-weight:700;color:#0fe;text-shadow:0 0 4px #00ffee88}.qs-result-msg.error{color:#f44;text-shadow:0 0 4px #ff444488}.qs-xp-msg.zero{color:#888;text-shadow:none}.hidden{display:none!important}.phil-wrapper.in-game{max-height:clamp(121px,34.1%,193.6px);transform:translateY(10%);align-items:flex-start;justify-content:center;display:flex;pointer-events:none;z-index:2;position:relative}#philSpriteInGame.phil-img.in-game{max-height:clamp(145px,46.2vh,242px)!important;width:auto;height:auto;object-fit:contain;display:block;pointer-events:none;-webkit-user-select:none;user-select:none}.qs-keypad button:hover{box-shadow:0 0 12px currentColor,inset 0 0 8px currentColor}.qs-keypad button:active{transform:scale(.95);box-shadow:0 0 16px currentColor}.qs-keypad .btn-number{background:#000;border:2px solid #00ffee}.qs-keypad .btn-mode{background:#0fe3;border:2px solid #00ffee}.qs-keypad .btn-menu,.qs-keypad .btn-reset{background:#ff00ff40;border:2px solid #ff66ff}.qs-keypad .btn-enter{background:none!important;background-color:#0fe6!important;border:2px solid #00ffee;color:#fff;font-weight:700;text-shadow:0 0 6px #00ffee88;box-shadow:0 0 12px #0fea,inset 0 0 6px #0fe4}.qs-keypad .btn-clear{background:transparent;border:2px solid #00ffee88;box-shadow:none}.btn-mode.active-mode{box-shadow:0 0 10px #0fe,0 0 20px #0fea,inset 0 0 10px #0fe5;font-weight:700;background:#00ffee80}.qs-stage,.qs-math,.qs-keypad{max-height:100%;height:100%;overflow:hidden}.qs-intro .phil-wrapper{max-height:50%}.info-box{font-size:clamp(.7rem,2.2vh,1.4rem);width:100%;height:100%;padding:.4rem;border:2px solid #00ffee88;background:#000000b3;box-shadow:0 0 8px #0fe8;border-radius:12px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1.2;text-align:center}.qs-stage .score-box,.qs-stage .timer-box{aspect-ratio:1 / 1;width:clamp(54px,12vh,120px);height:auto;position:absolute;top:clamp(.5rem,2vh,1rem);display:flex;justify-content:center;align-items:center;padding:0;border:none;background:transparent;box-shadow:none}.qs-stage .score-box{left:clamp(.5rem,2vw,1rem)}.qs-stage .timer-box{right:clamp(.5rem,2vw,1rem)}.label{font-size:clamp(.6rem,1.6vw,1rem);opacity:.8;line-height:1}.value{font-size:clamp(1rem,2.8vh,1.8rem);font-weight:700;line-height:1}.new-highscore-msg{color:#0fe;font-weight:700;margin-top:.5rem;text-shadow:0 0 6px #00ffeeaa;font-size:1.3rem;animation:pulseHighScore 1.2s infinite ease-in-out}@keyframes pulseHighScore{0%,to{opacity:1}50%{opacity:.5}}.kc-grid{display:grid;grid-template-rows:auto 1fr;grid-template-areas:"header" "content";height:100%;width:100%;padding:1.5rem;gap:1rem;box-sizing:border-box;background:#0006;border:2px dashed #00ffee88;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:2}.kc-header{grid-area:header;display:flex;justify-content:center;align-items:center;text-align:center;border:2px solid #ff00ff44;padding:.5rem;background:#00000080;border-radius:12px}.kc-header h1{font-size:clamp(1.2rem,3vw,2rem);color:#0fe;text-shadow:0 0 8px #00ffee88}.kc-content{grid-area:content;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:1rem;border:2px solid #ff00ff44;border-radius:1rem;padding:1.5rem;background:#000000a6;box-shadow:0 0 24px #0fe8;width:100%;max-width:900px;margin:0 auto;height:fit-content}.fidget-game{width:100%;padding:1rem;border-radius:12px;border:2px dashed #00ffee88;background:#000000bf;color:#0fe;text-align:center}.fidget-game button{padding:.75rem 1.5rem;margin:.5rem;font-size:1.1rem;border-radius:10px;background-color:#0fe;border:none;color:#000;font-weight:700;cursor:pointer;box-shadow:0 0 10px #0fe8;transition:background .2s ease}.fidget-game button:hover{background-color:#3ff}.mt-grid{display:grid;grid-template-rows:auto 1fr;grid-template-areas:"header" "content";height:100%;width:100%;padding:1.5rem;gap:1rem;box-sizing:border-box;background:#0006;border:2px dashed #00ffee88;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:2}.mt-header{grid-area:header;display:flex;justify-content:center;align-items:center;text-align:center;border:2px solid #ff00ff44;padding:.5rem;background:#00000080;border-radius:12px}.mt-header h1{font-size:clamp(1.2rem,3vw,2rem);color:#0fe;text-shadow:0 0 8px #00ffee88}.mt-content{grid-area:content;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:1rem;border:2px solid #ff00ff44;border-radius:1rem;padding:1.5rem;background:#000000a6;box-shadow:0 0 24px #0fe8;width:100%;max-width:900px;margin:0 auto;height:fit-content}.chat-window{width:100%;max-height:40vh;overflow-y:auto;background:#000000bf;padding:1rem;border-radius:12px;border:2px dashed #00ffee88}.user-msg,.cat-reply{margin:.5rem 0}.user-msg{color:#0fe}.cat-reply{color:#fd5}.chat-input-zone{display:flex;width:100%;max-width:900px;gap:.5rem}#userInput{flex:1;padding:.75rem 1rem;font-size:1.2rem;border:2px solid #00ffee;border-radius:8px;background:#000000e6;color:#0fe;outline:none;box-shadow:0 0 8px #0fe8}#sendBtn{padding:.75rem 1.5rem;font-size:1.1rem;border-radius:10px;background-color:#0fe;border:none;color:#000;font-weight:700;cursor:pointer;box-shadow:0 0 10px #0fe8;transition:background .2s ease}#sendBtn:hover{background-color:#3ff}.user-msg,.cat-reply{margin:.5rem 0;animation:fadeIn .3s ease forwards}.sm-grid{display:grid;grid-template-rows:auto 1fr;grid-template-areas:"header" "content";height:100%;width:100%;padding:1.5rem;gap:1rem;box-sizing:border-box;background:#0006;border:2px dashed #00ffee88;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:2}.sm-header{grid-area:header;display:flex;justify-content:center;align-items:center;text-align:center;border:2px solid #ff00ff44;padding:.5rem;background:#00000080;border-radius:12px}.sm-header h1{font-size:clamp(1.2rem,3vw,2rem);color:#0fe;text-shadow:0 0 8px #00ffee88}.sm-content{grid-area:content;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:1rem;border:2px solid #ff00ff44;border-radius:1rem;padding:1.5rem;background:#000000a6;box-shadow:0 0 24px #0fe8;width:100%;max-width:900px;margin:0 auto;height:fit-content}.dialogue-box{width:100%;max-height:40vh;overflow-y:auto;background:#000000bf;padding:1rem;border-radius:12px;border:2px dashed #00ffee88;color:#0fe;text-shadow:0 0 6px #00ffee99}.dialogue-box p{margin:0}.option-buttons{display:flex;flex-direction:column;gap:.5rem;width:100%}.option-buttons button{padding:.75rem 1.5rem;font-size:1.1rem;border-radius:10px;background-color:#0fe;border:none;color:#000;font-weight:700;cursor:pointer;box-shadow:0 0 10px #0fe8;transition:background .2s ease}.option-buttons button:hover{background-color:#3ff}.btn-return{padding:.75rem 1.5rem;font-size:1.1rem;background:#0fe;border:none;border-radius:12px;cursor:pointer;box-shadow:0 0 12px #0fea;transition:background .2s ease}.btn-return:hover{background-color:#3ff}.dialogue-box::-webkit-scrollbar{display:none}.dialogue-box{-ms-overflow-style:none;scrollbar-width:none}.dialogue-box p{animation:fadeIn .3s ease forwards}@keyframes fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.il-grid{position:relative;z-index:1;display:grid;grid-template-rows:auto minmax(10vh,20vh) 1fr auto;height:100%;width:100%;padding:1rem;box-sizing:border-box;gap:.5rem;color:#fff;font-family:Orbitron,sans-serif}.il-title{text-align:center;font-size:clamp(1.6rem,4vw,2.5rem);color:#0fe;text-shadow:0 0 8px #00ffeeaa;padding-top:.5rem}.il-stage{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background:#0006;border:2px solid #00ffee55;border-radius:12px}.twins-box{font-size:2rem}.score-box{font-size:1.2rem;color:#0fe;font-weight:700;border:2px solid #00ffeeaa;padding:.4rem 1rem;border-radius:8px;background:#00000080;box-shadow:0 0 8px #0fe8}.il-math{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;background:#00000080;padding:1rem;border-radius:1rem;border:2px solid #00ffee66;box-shadow:0 0 12px #0fe8;text-align:center}#mathProblem{font-size:clamp(1.8rem,5vw,2.8rem);font-weight:700;color:#fff;text-shadow:0 0 6px #ffffff88}.answer-options{display:flex;gap:1rem}.ans-btn{font-size:clamp(1.2rem,4vw,2rem);padding:.8rem 1.5rem;border-radius:12px;border:2px solid #00ffeeaa;background:#000c;color:#0fe;cursor:pointer;box-shadow:0 0 10px #0fe8;transition:transform .2s ease}.ans-btn:hover{transform:scale(1.08);background-color:#0fe2}.result-msg{min-height:1.5rem;font-size:1.1rem;color:#fd5;text-shadow:0 0 6px #ffdd5588}.il-controls{display:flex;flex-direction:column;justify-content:space-between;gap:.5rem;padding:.5rem 1rem;background:#0006;border:2px solid #00ffee44;border-radius:10px}.mode-buttons,.utility-buttons{display:flex;justify-content:space-between;gap:.5rem}.mode-buttons button,.utility-buttons button{flex:1;font-size:1rem;padding:.5rem;border-radius:8px;background:#000;border:2px solid #00ffee88;color:#0fe;cursor:pointer;transition:background .2s}.mode-buttons button:hover,.utility-buttons button:hover{background-color:#0fe2}.il-intro{flex:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:1.2rem;height:100%;width:100%;box-sizing:border-box;transition:opacity .4s ease;overflow:hidden}.il-speech{max-width:720px;width:90%;margin:0 auto;padding:1rem 1.2rem;background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 16px #0fe5;color:#0fe;text-shadow:0 0 6px #00ffee88;text-align:center;line-height:1.4;font-size:clamp(1rem,2vw,1.6rem);overflow-wrap:break-word;word-break:break-word;animation:fadeInBubble 1s ease forwards;opacity:0;position:relative}.il-speech:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:12px solid #00ffeeaa;filter:drop-shadow(0 0 6px #00ffee55)}@media (max-height: 600px){.il-speech{font-size:clamp(.8rem,1.8vh,1.2rem);padding:.6rem}}@keyframes fadeInBubble{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.il-triplet-wrapper{display:flex;align-items:center;justify-content:center;width:100%;height:100%;max-height:100%;overflow:visible}.il-triplet-img{height:100%;width:auto;max-height:20vh;object-fit:contain;transition:opacity .4s ease;pointer-events:none;-webkit-user-select:none;user-select:none}.il-intro .start-show-btn,.il-intro .back-to-menu-btn{font-size:clamp(1rem,2.2vh,1.4rem);padding:clamp(.6rem,1vh,1rem) clamp(1.2rem,2vh,2rem);min-width:clamp(120px,30vw,240px);border-radius:16px;border:none;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.start-show-btn{background:#0fe;color:#000;box-shadow:0 0 12px #0fea}.back-to-menu-btn{background:#f6f;color:#fff;font-weight:700;text-shadow:0 0 4px #ff66ffaa;box-shadow:0 0 12px #f6fa}.start-show-btn:hover,.back-to-menu-btn:hover{transform:scale(1.08);box-shadow:0 0 20px currentColor}.start-show-btn:active,.back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px currentColor}.fade-out{opacity:0;pointer-events:none;transition:opacity .4s ease}.fade-in{opacity:1;transition:opacity .4s ease}.ans-yellow{background-color:#ffec4f;color:#000;border-color:#fe0;box-shadow:0 0 12px #fe07}.ans-blue{background-color:#4fdfff;color:#000;border-color:#0cf;box-shadow:0 0 12px #0cf7}.ans-violet{background-color:#c74fff;color:#000;border-color:#c3f;box-shadow:0 0 12px #c3f7}
