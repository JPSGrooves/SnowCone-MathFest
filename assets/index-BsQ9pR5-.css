.cosmic-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:9999;pointer-events:auto}.cosmic-modal.hidden{display:none}.cosmic-modal-inner{background:#141414f2;border:2px solid #00ccff;border-radius:20px;padding:1em;width:90vw;max-width:56.25vh;aspect-ratio:9 / 12;box-shadow:0 0 20px #0cf;position:relative;height:auto;max-height:90vh;display:flex;flex-direction:column;overflow-y:auto;scrollbar-gutter:stable;padding-right:calc(1em + 6px);scrollbar-width:none}.cosmic-modal-inner::-webkit-scrollbar{display:none}.close-modal{position:absolute;top:19px;right:10px;width:1.8rem;height:1.8rem;border:none;border-radius:50%;background:#0009;color:#0cf;font-size:1.2rem;font-family:Orbitron,sans-serif;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 0 6px #0cf,0 0 10px #0cf;z-index:10000;transition:transform .2s ease}.close-modal:hover{background:#000c;color:#fff;box-shadow:0 0 8px #fff;transform:scale(1.1)}.tab-content{font-family:Orbitron,sans-serif;font-size:clamp(1.1rem,2.3vmin,1.7rem);color:#fff;line-height:1.5;text-shadow:none;padding-bottom:2em}.tab-content h2{font-size:clamp(1.4rem,3vmin,2.2rem);color:#fff;text-align:center;margin-bottom:.5em}.qs-grid{display:grid;grid-template-areas:"header" "stage" "math" "keypad";grid-template-rows:minmax(6%,10%) minmax(24%,34%) minmax(18%,26%) minmax(28%,40%);padding:1rem;padding:.5rem;gap:.5rem;width:100%;height:100%;color:#fff;position:relative;z-index:2;background:#0006;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-sizing:border-box}.aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden;position:relative;display:flex;justify-content:center;align-items:center}.qs-header{grid-area:header;display:flex;justify-content:center;align-items:center}.qs-header h1{font-size:clamp(1.2rem,4.5vh,2.6rem);font-family:Orbitron,sans-serif;color:#0fe;text-shadow:0 0 4px #00ffee,0 0 8px #00ffeeaa,0 0 16px #00ffee55;animation:pulseTitle 3s infinite ease-in-out;text-align:center;letter-spacing:.08em;margin:0;padding:.4em 0}@keyframes pulseTitle{0%,to{text-shadow:0 0 4px #00ffee,0 0 8px #00ffeeaa,0 0 16px #00ffee55;transform:scale(1)}50%{text-shadow:0 0 6px #ff66ff,0 0 12px #ff66ffaa,0 0 20px #ff66ff55;transform:scale(1.02)}}.qs-stage{grid-area:stage;position:relative;display:flex;align-items:flex-start;justify-content:center;padding:.5rem;border:2px dashed #00ffee88;border-radius:12px;background:#ffffff0a;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);overflow:hidden;min-height:20vh;max-height:clamp(120px,30vh,200px)}.qs-stage .score-box{position:absolute;left:clamp(.5rem,2vw,1rem);top:clamp(.5rem,2vh,1rem);width:clamp(77px,15.4vw,154px);height:clamp(55px,8.8vh,77px);z-index:2}.qs-stage .timer-box{position:absolute;right:clamp(.5rem,2vw,1rem);top:clamp(.5rem,2vh,1rem);width:clamp(77px,15.4vw,154px);height:clamp(55px,8.8vh,77px);z-index:2}.qs-stage .info-box{font-size:clamp(.6rem,1.6vw,1.2rem);font-weight:700;color:#0fe;border:2px solid #00ffee88;border-radius:12px;background:#000000b3;box-shadow:0 0 8px #0fe8;display:flex;align-items:center;justify-content:center;text-align:center;padding:.4;flex-direction:column;line-height:1.2}.phil-wrapper{display:flex;align-items:flex-start;justify-content:center;max-height:70%;max-width:60%;z-index:2;pointer-events:none;position:relative;transform:translateY(8%)}.phil-img{max-height:90%;width:auto;height:auto;object-fit:contain;transition:opacity .4s ease;pointer-events:none;-webkit-user-select:none;user-select:none}.phil-wrapper.in-game{max-height:clamp(100px,30%,180px);transform:translateY(10%)}#philSprite:after{content:"🐱";position:absolute;top:0;left:0}.info-box{font-size:1.2rem;font-weight:700;color:#0fe;border:2px solid #00ffee88;padding:.4rem .8rem;border-radius:12px;background:#000000b3;box-shadow:0 0 8px #0fe8;display:flex;align-items:center;flex-direction:column;justify-content:center;text-align:center;font-size:clamp(.6rem,1.5vw,1rem);line-height:1.2}.glow-lines{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:0}.glow-line{position:absolute;left:0;width:100%;height:2px;background:#0fe;opacity:.2;box-shadow:0 0 16px #0fea;transition:opacity .2s ease,transform .2s ease}.glow-line:nth-child(1){top:20%}.glow-line:nth-child(2){top:50%}.glow-line:nth-child(3){top:80%}.qs-math{grid-area:math;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.4rem;padding:.5rem;border:2px solid #00ffee88;border-radius:12px;background:#0009;-webkit-backdrop-filter:blur(8px) saturate(120%);backdrop-filter:blur(8px) saturate(120%);box-sizing:border-box;overflow:hidden;font-size:clamp(1.5rem,4vmin,2.2rem);min-height:unset;max-height:100%;height:100%;flex-shrink:1}.center-stack{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.4rem;max-height:100%;width:100%;overflow:hidden;flex-shrink:1}.math-problem{font-weight:700;color:#fff;text-shadow:0 0 6px #ffffff88;text-align:center;justify-self:center;margin:0;padding:0;z-index:1;font-size:clamp(.3rem,4vh,2.2rem);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.answer-display{font-size:clamp(1.6rem,5vmin,2.6rem);font-weight:700;color:#0fe;text-shadow:0 0 8px #00ffee88;padding:.2rem .5rem;text-align:center;max-width:100%;overflow:hidden;line-height:1.1}.math-problem,.answer-display{font-size:clamp(1.2rem,4vh,2rem);max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.qs-result-msg{font-size:1.1rem;color:#fd5;min-height:1.5em;text-shadow:0 0 4px #ffdd5588}.qs-keypad{grid-area:keypad;display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(4,1fr);gap:.4rem;width:100%;max-height:0;aspect-ratio:5 / 4;box-sizing:border-box;max-height:clamp(180px,34vh,280px)}.qs-keypad button{background:linear-gradient(145deg,#000,#111);border:2px solid #00ffee;color:#fff;font-size:clamp(.7rem,2.5vh,1.4rem);border-radius:14px;box-shadow:0 0 12px #0fea,inset 0 0 10px #0fe2;width:100%;height:100%;cursor:pointer;transition:transform .05s ease,box-shadow .05s ease;display:flex;align-items:center;justify-content:center;text-align:center;line-height:1.2;padding:.2rem;overflow:hidden}.qs-keypad button:hover{box-shadow:0 0 20px #0fe,inset 0 0 14px #0fe4}.qs-keypad button:active{transform:scale(.95);box-shadow:0 0 16px #0fe,inset 0 0 10px #0fe5}.qs-keypad .empty{background:transparent;border:none;pointer-events:none}.qs-intro{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(1rem,2vh,2rem);height:100%;width:100%;background:#0006;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:12px;justify-content:flex-start;max-height:100%;overflow:hidden;padding:1rem;box-sizing:border-box}.qs-intro>*{max-width:100%}.qs-intro .phil-wrapper{max-height:60%}.qs-intro button{border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;max-width:90%;transition:transform .1s ease,box-shadow .1s ease;font-size:clamp(.7rem,2.2vh,1.2rem);padding:clamp(.4em,1vh,.8em) clamp(1em,2vh,1.8em);min-width:clamp(90px,16vw,160px)}.qs-intro button:hover{transform:scale(1.05);box-shadow:0 0 20px #0fe}.qs-intro button:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.start-show-btn{background:#0fe;color:#000;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.start-show-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #0fe}.start-show-btn:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.back-to-menu-btn{background:#f6f;color:#fff;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #f6fa;cursor:pointer;font-weight:700;text-shadow:0 0 4px #ff66ffaa;transition:transform .1s ease,box-shadow .1s ease}.back-to-menu-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #f6f}.back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px #f6f}.phil-speech{max-width:90%;background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;padding:1rem;color:#0fe;text-shadow:0 0 6px #00ffee88;box-shadow:0 0 16px #0fe5;position:relative;margin-bottom:1rem;text-align:center;animation:fadeInBubble 1s ease forwards;opacity:0;overflow:visible;line-height:1.35;font-size:clamp(-3rem,2.1vh,1.6rem);max-height:clamp(10rem,30vh,20rem)}.phil-speech:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:12px solid #00ffeeaa;filter:drop-shadow(0 0 6px #00ffee55)}.result-popup{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(.8rem,2vh,2rem);padding:clamp(1rem,2.5vh,2rem);background:#000000f2;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 24px #0fea;text-align:center;width:clamp(260px,90vw,420px);max-width:95vw;max-height:90vh;overflow:auto;font-size:clamp(1rem,2.2vh,1.4rem);animation:popupFadeIn .6s ease-out forwards,popupGlow 2.5s ease-in-out infinite}.result-popup h2{font-size:clamp(1.2rem,3vh,2.2rem);color:#0fe;text-shadow:0 0 8px #00ffee88}.result-popup p{font-size:clamp(1rem,2vh,1.3rem);color:#fff;margin:.5rem 0}.result-popup .play-again-btn{background:#0fe;color:#000;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #0fea;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.result-popup .play-again-btn,.result-popup .back-to-menu-btn{font-size:clamp(1rem,2.5vh,1.6rem);padding:clamp(.4rem,1vh,.8rem) clamp(1rem,2vh,2rem);min-width:clamp(120px,30vw,240px)}.result-popup .play-again-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #0fe}.result-popup .play-again-btn:active{transform:scale(.95);box-shadow:0 0 16px #0fe}.result-popup .back-to-menu-btn{background:#f6f;color:#fff;font-size:1.4rem;padding:.6em 1.2em;border:none;border-radius:16px;box-shadow:0 0 12px #f6fa;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.result-popup .back-to-menu-btn:hover{transform:scale(1.08);box-shadow:0 0 20px #f6f}.result-popup .back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px #f6f}.fade-out{opacity:0;transition:opacity .4s ease}.result-phil img{max-height:80px;opacity:.9;margin-top:1rem}.equation-row{position:relative;display:flex;justify-content:center;align-items:center;width:100%}.qs-xp-msg{position:absolute;left:.5rem;top:.2rem;font-size:.9rem;font-weight:700;color:#0fe;text-shadow:0 0 4px #00ffee88}.qs-result-msg{position:absolute;right:.5rem;top:.2rem;font-size:.9rem;font-weight:700;color:#0fe;text-shadow:0 0 4px #00ffee88}.qs-result-msg.error{color:#f44;text-shadow:0 0 4px #ff444488}.qs-xp-msg.zero{color:#888;text-shadow:none}.hidden{display:none!important}.phil-wrapper.in-game{max-height:clamp(121px,34.1%,193.6px);transform:translateY(10%);align-items:flex-start;justify-content:center;display:flex;pointer-events:none;z-index:2;position:relative}#philSpriteInGame.phil-img.in-game{max-height:clamp(145px,46.2vh,242px)!important;width:auto;height:auto;object-fit:contain;display:block;pointer-events:none;-webkit-user-select:none;user-select:none}.qs-keypad button:hover{box-shadow:0 0 12px currentColor,inset 0 0 8px currentColor}.qs-keypad button:active{transform:scale(.95);box-shadow:0 0 16px currentColor}.qs-keypad .btn-number{background:#000;border:2px solid #00ffee}.qs-keypad .btn-mode{background:#0fe3;border:2px solid #00ffee}.qs-keypad .btn-menu,.qs-keypad .btn-reset{background:#ff00ff40;border:2px solid #ff66ff}.qs-keypad .btn-enter{background:none!important;background-color:#0fe6!important;border:2px solid #00ffee;color:#fff;font-weight:700;text-shadow:0 0 6px #00ffee88;box-shadow:0 0 12px #0fea,inset 0 0 6px #0fe4}.qs-keypad .btn-clear{background:transparent;border:2px solid #00ffee88;box-shadow:none}.btn-mode.active-mode{box-shadow:0 0 10px #0fe,0 0 20px #0fea,inset 0 0 10px #0fe5;font-weight:700;background:#00ffee80}.qs-stage,.qs-math,.qs-keypad{max-height:100%;height:100%;overflow:hidden}.qs-intro .phil-wrapper{max-height:50%}.info-box{font-size:clamp(.7rem,2.2vh,1.4rem);width:100%;height:100%;padding:.4rem;border:2px solid #00ffee88;background:#000000b3;box-shadow:0 0 8px #0fe8;border-radius:12px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1.2;text-align:center}.qs-stage .score-box,.qs-stage .timer-box{aspect-ratio:1 / 1;width:clamp(54px,12vh,120px);height:auto;position:absolute;top:clamp(.5rem,2vh,1rem);display:flex;justify-content:center;align-items:center;padding:0;border:none;background:transparent;box-shadow:none}.qs-stage .score-box{left:clamp(.5rem,2vw,1rem)}.qs-stage .timer-box{right:clamp(.5rem,2vw,1rem)}.label{font-size:clamp(.6rem,1.6vw,1rem);opacity:.8;line-height:1}.value{font-size:clamp(1rem,2.8vh,1.8rem);font-weight:700;line-height:1}.new-highscore-msg{color:#0fe;font-weight:700;margin-top:.5rem;text-shadow:0 0 6px #00ffeeaa;font-size:1.3rem;animation:pulseHighScore 1.2s infinite ease-in-out}@keyframes pulseHighScore{0%,to{opacity:1}50%{opacity:.5}}.il-aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden;position:relative;display:flex;justify-content:center;align-items:center}.il-game-frame{width:100%;height:100%;position:relative;display:grid;grid-template-rows:auto 1fr}.il-grid{position:relative;z-index:1;display:grid;grid-template-rows:auto auto auto auto;height:100%;width:100%;max-width:100%;max-height:100%;padding:1rem;box-sizing:border-box;gap:.5rem;color:#fff;font-family:Orbitron,sans-serif;overflow:hidden}.il-title{text-align:center;font-size:clamp(1.5rem,1.8vw + 1.8vh,2.4rem);color:#0fe;text-shadow:0 0 8px #00ffeeaa;padding-top:.5rem}.il-stage{display:flex;justify-content:center;align-items:center;padding:clamp(.5rem,1vh,1rem);border:2px solid #00ffeeaa;border-radius:16px;background:#00000080;box-shadow:0 0 12px #0fe8;min-height:clamp(120px,18vh,240px);gap:clamp(1rem,2vw,2rem)}.il-stage .il-triplet-img{width:100%;max-width:50vw;object-fit:contain;-webkit-user-select:none;user-select:none;pointer-events:none;animation:tripletBounce 2s ease-in-out infinite alternate}.il-stage .score-box{font-size:clamp(1rem,2vw,1.4rem);color:#0fe;font-weight:700;border:2px solid #00ffeeaa;padding:.6rem 1.2rem;border-radius:12px;background:#000000a6;box-shadow:0 0 10px #0fe8}.il-stage .il-streak-box{font-size:clamp(.9rem,1.8vw,1.3rem);color:#fd5;font-weight:700;border:2px solid #ffdd55aa;padding:.4rem 1rem;border-radius:10px;background:#0006;box-shadow:0 0 8px #fd58;margin-top:.3rem}.il-math{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#00000080;padding:1rem;border-radius:1rem;border:2px solid #00ffee66;box-shadow:0 0 12px #0fe8;text-align:center;max-width:100%;max-height:100%;overflow:visible}.il-math #mathProblem{font-size:clamp(1rem,4svh,3rem);font-weight:700;color:#fff;text-shadow:0 0 4px #ffffff88;text-align:center;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.il-math .answer-options{display:flex;gap:1rem;font-size:clamp(.9rem,2.5svh,1.6rem);padding:clamp(.4rem,1.2svh,.8rem) clamp(.8rem,2.5vw,1.4rem)}.il-math .ans-btn{background-color:transparent;border-width:2px;border-style:solid;border-radius:12px;font-weight:700;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;padding:clamp(.4rem,1.2svh,.8rem) clamp(.8rem,2.5vw,1.4rem);font-size:clamp(.9rem,2.5svh,1.6rem);text-shadow:none}.il-math .ans-btn:hover{transform:scale(1.08)}.il-math .result-msg{min-height:1.5rem;font-size:1.1rem;color:#fd5;text-shadow:0 0 6px #ffdd5588}.il-controls{display:flex;flex-direction:column;justify-content:space-between;gap:.5rem;padding:.5rem 1rem;background:#0006;border:2px solid #00ffee44;border-radius:10px}.il-controls .mode-buttons button.active-mode{background-color:#0fe2!important;border-color:#0fe!important;box-shadow:0 0 14px #0fea;color:#fff}.il-controls .mode-buttons,.il-controls .utility-buttons{display:flex;justify-content:space-between;gap:.5rem}.il-controls .mode-buttons button,.il-controls .utility-buttons button{flex:1;font-size:1rem;padding:.5rem;border-radius:8px;background:#000;border:2px solid #00ffee88;color:#0fe;cursor:pointer;transition:background .2s}.il-controls .mode-buttons button:hover,.il-controls .utility-buttons button:hover{background-color:#0fe2}.il-intro{flex:1;display:grid;grid-template-rows:auto auto auto auto;flex-direction:column;justify-content:flex-start;justify-items:center;align-items:start;gap:1rem;height:100%;max-height:100%;width:100%;box-sizing:border-box;transition:opacity .4s ease;overflow:visible;padding:1rem}.il-speech{height:auto;max-height:28svh;line-height:1.15;font-size:clamp(.95rem,1.3vh + .4rem,1.6rem);width:100%;font-family:Orbitron,sans-serif;padding:clamp(.5rem,1.6vh,1rem);background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 16px #0fe5;color:#0fe;text-shadow:0 0 6px #00ffee88;text-align:center;animation:fadeInBubble 1s ease forwards;white-space:normal;word-break:break-word;-webkit-hyphens:auto;hyphens:auto;--il-lines: 5;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--il-lines);overflow:hidden;text-overflow:ellipsis}.il-triplet-wrapper{display:flex;align-items:center;justify-content:center;width:100%;max-width:100%;height:100;overflow:visible;max-height:30vh;background:#f0f3}.il-triplet-img{height:100%;width:auto;object-fit:contain;transition:transform .3s ease;pointer-events:none;-webkit-user-select:none;user-select:none;padding:0}@keyframes tripletBounce{0%{transform:translateY(0)}to{transform:translateY(-10px)}}.il-score-row{display:flex;justify-content:center;align-items:center}.il-metric-stack{display:flex;flex-direction:column;align-items:center;gap:clamp(.3rem,1vh,.8rem);scale:clamp(.7,1vw + .3,1)}.il-metric-row{display:flex;justify-content:center;align-items:center;gap:clamp(.5rem,2vw,1.5rem);margin-top:.5rem;flex-wrap:wrap}.il-score-box,.il-streak-box{font-size:clamp(1rem,1.25vw,1rem);padding:.3rem .7rem;border-radius:8px;font-weight:700;text-align:center;min-width:110px}.il-score-box{color:#0fe;border:2px solid #00ffeeaa;background:#00000080;box-shadow:0 0 8px #0fe8}.il-streak-box{color:#f6f;border:2px solid #ff66ffaa;background:#0006;box-shadow:0 0 8px #f6fa}.ans-yellow{color:#fe0!important;border-color:#fe0;box-shadow:0 0 8px #fe07}.ans-blue{color:#0cf!important;border-color:#0cf;box-shadow:0 0 8px #0cf7}.ans-violet{color:#c3f!important;border-color:#c3f;box-shadow:0 0 8px #c3f7}.ans-btn:hover{transform:scale(1.06);box-shadow:0 0 16px currentColor}.mode-flash{position:absolute;top:10%;left:50%;transform:translate(-50%);font-size:2rem;color:#0fe;background:#000c;padding:.5rem 1rem;border:2px solid #00ffee88;border-radius:12px;box-shadow:0 0 16px #0fea;z-index:999;animation:fadeFlash 1.2s ease-out forwards}@keyframes fadeFlash{0%{opacity:1;transform:translate(-50%)}to{opacity:0;transform:translate(-50%,-10px)}}#muteIcon.flash{box-shadow:0 0 12px #0fea;transform:scale(1.2);transition:all .2s ease}.il-intro .start-show-btn,.il-intro .back-to-menu-btn{font-size:clamp(.7rem,2vh,1.2rem);min-width:clamp(100px,18vw,180px);max-width:90%;padding:clamp(.4rem,1vh,.8rem) clamp(.8rem,2vw,1.4rem);border-radius:16px;box-shadow:0 0 12px currentColor;transition:transform .1s ease,box-shadow .1s ease}.il-intro .start-show-btn{background:#0fe;color:#000}.il-intro .back-to-menu-btn{background:#f6f;color:#fff;font-weight:700;text-shadow:0 0 4px #ff66ffaa}.il-intro .start-show-btn:active,.il-intro .back-to-menu-btn:active{transform:scale(.95);box-shadow:0 0 16px currentColor}.fade-out{opacity:0;pointer-events:none;transition:opacity .4s ease}.fade-in{opacity:1;transition:opacity .4s ease}.ans-yellow{background-color:#ffec4f;color:#000;border-color:#fe0;box-shadow:0 0 12px #fe07}.ans-blue{background-color:#4fdfff;color:#000;border-color:#0cf;box-shadow:0 0 12px #0cf7}.ans-violet{background-color:#c74fff;color:#000;border-color:#c3f;box-shadow:0 0 12px #c3f7}.il-intro{position:relative;display:flex;justify-content:center;align-items:center;height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden}.il-intro-stack{z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;text-align:center;max-height:100%;padding:clamp(.5rem,2vh,1rem);gap:clamp(.6rem,2vh,1.2rem)}.triplet-wrapper{display:flex;justify-content:center;align-items:center;max-height:50vh;max-width:100%;padding-top:1rem}.triplet-img{max-height:100%;max-width:100%;object-fit:contain;transition:opacity .4s ease}.il-result-popup{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(.8rem,2vh,2rem);padding:clamp(1rem,2.5vh,2rem);background:#000000f2;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 24px #0fea;text-align:center;width:clamp(260px,90vw,420px);max-width:95vw;max-height:90vh;overflow:auto;font-size:clamp(1rem,2.2vh,1.4rem);animation:popupFadeIn .6s ease-out forwards,popupGlow 2.5s ease-in-out infinite}.il-result-popup h2{font-size:clamp(1.4rem,3vh,2.4rem);color:#0fe;text-shadow:0 0 8px #00ffee88;margin-bottom:.5rem}.il-result-popup p{font-size:clamp(1rem,2vh,1.3rem);color:#fff;margin:.25rem 0}.il-result-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}#ilResultPopup.hidden{display:none}@keyframes popupFadeIn{0%{opacity:0;transform:scale(.95) translate(-50%,-50%)}to{opacity:1;transform:scale(1) translate(-50%,-50%)}}@keyframes popupGlow{0%,to{box-shadow:0 0 20px #0fe,0 0 40px #0fe5}50%{box-shadow:0 0 40px #0fea,0 0 60px #0fe8}}.il-aspect-wrap,.il-game-frame,.il-grid{overflow:hidden!important}@media (max-height: 500px){.il-grid{padding:clamp(.3rem,1vh,.6rem);gap:clamp(.2rem,.5vh,.4rem)}.il-title{font-size:clamp(1rem,1.5vw + 1.5vh,1.8rem)}.il-stage{min-height:clamp(80px,15vh,120px);padding:clamp(.3rem,.8vh,.6rem);gap:clamp(.5rem,1.5vw,1rem)}.il-math{padding:clamp(.5rem,1vh,.8rem)}.il-math #mathProblem{font-size:clamp(.8rem,3svh,2rem);white-space:normal;overflow:hidden;text-overflow:ellipsis;max-lines:2}.il-math .answer-options{gap:clamp(.5rem,1vw,.8rem);font-size:clamp(.7rem,2svh,1.2rem)}.il-math .ans-btn{padding:clamp(.3rem,1svh,.6rem) clamp(.6rem,2vw,1rem);font-size:clamp(.7rem,2svh,1.2rem)}.il-controls{padding:clamp(.3rem,.8vh,.6rem);gap:clamp(.3rem,.8vh,.5rem)}.il-controls button{font-size:clamp(.8rem,1.5vh,1rem);padding:clamp(.3rem,.8vh,.5rem)}.triplet-wrapper{max-height:25vh}.il-metric-row{gap:clamp(.3rem,1vw,.8rem)}.il-score-box,.il-streak-box{font-size:clamp(.8rem,1vw,1rem);padding:.2rem .5rem;min-width:80px}}.il-math #mathProblem{white-space:normal;word-break:break-word;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4}.il-math #mathProblem{-webkit-line-clamp:2}.kc-game-frame,.kc-game-frame *{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.allow-select{-webkit-user-select:text;user-select:text;-webkit-touch-callout:default}.kc-wrap-hidden{opacity:0;pointer-events:none;transition:opacity .4s ease}.kc-grid>div{border:1px solid #00ffee88;padding:.5rem;color:#fff;font-family:monospace;background:#0000004d;border-radius:10px;box-shadow:0 0 8px #0fe4}.kc-grid>.kc-title,.kc-grid>.kc-popper-cell{border:none;background:none;box-shadow:none;padding:0}.kc-title{grid-area:title}.kc-scroller-cell{grid-area:scroller}.kc-tent-cell{grid-area:tent}.kc-slider-cell{grid-area:slider}.kc-popper-cell{grid-area:popper}.kc-title{font-size:clamp(1rem,2vw + 2vh,3rem);text-align:center;font-weight:700;color:#fe0;white-space:nowrap;overflow:visible;text-overflow:ellipsis;text-shadow:0 0 4px #ffee00cc,0 0 8px #ffee00aa,0 0 12px #ffaa0088;padding:.3rem 0;margin-top:clamp(.2rem,1vh,.6rem);z-index:2;display:flex;justify-content:center;align-items:center;gap:clamp(.25rem,1vw,.5rem);flex-wrap:nowrap}.kc-title img.kc-icon{width:clamp(28px,6vw,48px);height:auto;transform:scaleX(-1);filter:drop-shadow(0 0 6px #00ffeecc);cursor:pointer;animation:mysticalFloat 3s ease-in-out infinite}.kc-title img.kc-icon.kc-right-title{transform:none}.kc-icon{width:clamp(32px,6vw,56px);height:auto;animation:mysticalFloat 3s ease-in-out infinite;filter:drop-shadow(0 0 6px #00ffeecc);cursor:pointer}@keyframes twistTouch{0%{transform:rotate(0)}25%{transform:rotate(10deg)}50%{transform:rotate(-10deg)}75%{transform:rotate(6deg)}to{transform:rotate(0)}}.kc-icon.twisting,.kc-title img.kc-icon.twisting{animation:twistTouch .6s ease-in-out}.kc-popper-cell{min-height:clamp(40px,10vh,140px);height:auto;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.kc-popper-lineup{display:flex;justify-content:space-between;align-items:center;flex-wrap:nowrap;gap:clamp(.5rem,2vw,1.5rem);width:100%;max-width:680px;max-height:100%;height:100%;margin:0 auto;box-sizing:border-box;overflow:hidden}.kc-popper-slot{flex:1 1 0;display:flex;align-items:center;justify-content:center;min-width:clamp(80px,10vw,140px)}.kc-score-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:1;text-align:center;min-width:0;max-width:100%}.kc-score-label{font-size:clamp(.7rem,1.2vw,1rem);font-weight:700;color:#fe0;text-shadow:0 0 6px #ffee00aa;font-family:Orbitron,monospace;white-space:nowrap;text-align:center}.kc-grid button{font-size:clamp(.2rem,1vw,.5rem);max-width:100%;box-sizing:border-box}#muteToggle{background:#09c;color:#fff;font-weight:700;font-size:clamp(.7rem,1.4vh,1.1rem);text-shadow:0 0 4px #66ccffaa;border:none;border-radius:12px;padding:clamp(.3rem,1vh,.6rem) clamp(.8rem,2.2vh,1.1rem);box-shadow:0 0 12px #09c8;transition:transform .1s ease,box-shadow .2s ease;cursor:pointer;text-align:center;max-width:100%}#muteToggle:hover{transform:scale(1.05);box-shadow:0 0 18px #3cfc}#muteToggle:active{transform:scale(.95);box-shadow:0 0 10px #09c8}#muteToggle.muted{background:#034;color:#fe0;text-shadow:0 0 6px #ffee00aa;box-shadow:0 0 12px #034a}.kc-score-box{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.2rem;text-align:center;padding:clamp(.2rem,.6vw,.5rem);max-width:100%}.kc-score-label{font-size:clamp(.7rem,1.2vw,1rem);font-weight:700;color:#fe0;text-shadow:0 0 6px #ffee00aa;font-family:Orbitron,monospace;white-space:nowrap}#popCount{font-size:clamp(1rem,2.2vh,1.6rem);font-weight:700;color:#fe0;text-shadow:0 0 4px #ffee00aa;font-family:Orbitron,monospace;padding:clamp(.4rem,1vh,.6rem) clamp(.6rem,2vh,1rem);max-width:100%;text-align:center}.kc-score-box{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem}.kc-score-label{font-size:.9rem;font-weight:700;color:#fe0;text-shadow:0 0 6px #ffee00aa;font-family:"monospace"}.kc-aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden;position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding:0}.kc-game-frame{width:100%;height:100%;display:grid;grid-template-rows:auto 1fr;position:relative;overflow:hidden}.background-fill.kc-bg-img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:auto;height:100%;max-width:none;object-fit:contain;object-position:center center;z-index:-1}.kc-speech{width:100%;max-width:90%;max-height:25vh;text-align:center;overflow:hidden;font-size:clamp(1rem,1.8vh + .5rem,2rem);padding:clamp(.5rem,2vh,1rem);background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 16px #0fe5;color:#0fe;text-shadow:0 0 6px #00ffee88;animation:fadeInBubble 1s ease forwards;opacity:1;position:relative;white-space:normal;word-break:break-word}@keyframes fadeInBubble{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.kc-intro-btn.kc-btn-large{font-size:clamp(.7rem,2vh,1.2rem);min-width:clamp(100px,18vw,180px);max-width:90%;padding:clamp(.4rem,1vh,.8rem) clamp(.8rem,2vw,1.4rem);border-radius:16px;box-shadow:0 0 12px currentColor;transition:transform .1s ease,box-shadow .1s ease;opacity:1;cursor:pointer}.kc-intro-btn.kc-btn-large:hover{transform:scale(1.05)}.kc-intro-btn.kc-btn-large:active{transform:scale(.95);box-shadow:0 0 16px currentColor}.start-camp-btn{background:#0fe;color:#000}.back-to-menu-btn{background:#f6f;color:#fff;font-weight:700;text-shadow:0 0 4px #ff66ffaa}.kc-intro-stack{z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;text-align:center;max-height:100%;padding:clamp(.5rem,2vh,1rem);gap:clamp(.6rem,2vh,1.2rem)}.director-wrapper img{max-height:100%;max-width:100%;object-fit:contain;transition:opacity .4s ease;opacity:1}.kc-aspect-wrap,.kc-game-frame,.kc-intro{overflow:hidden!important}#backToMenu{background:#f6f;color:#fff;font-weight:700;font-size:clamp(.8rem,1.8vh,1.2rem);text-shadow:0 0 4px #ff66ffaa;border:none;border-radius:12px;padding:clamp(.4rem,1vh,.6rem) clamp(.8rem,2vh,1.2rem);box-shadow:0 0 12px #f6f8;transition:transform .1s ease,box-shadow .2s ease;cursor:pointer;max-width:100%;text-align:center}#backToMenu:hover{transform:scale(1.05);box-shadow:0 0 18px #f6fc}#backToMenu:active{transform:scale(.95);box-shadow:0 0 10px #f6f8}@keyframes bounceDino{0%,to{transform:translateY(0)}50%{transform:translateY(-6%)}}.kc-grid{display:grid;grid-template-areas:"title title title title title" "scroller scroller tent tent tent" "scroller scroller tent tent tent" "slider slider slider slider slider" "popper popper popper popper popper";grid-template-columns:repeat(5,minmax(0,1fr));grid-template-rows:auto minmax(20%,1fr) minmax(20%,1fr) minmax(25%,1fr) minmax(5%,auto);gap:clamp(.3rem,1vw,1rem);padding:.25rem;position:absolute;z-index:2;width:100%;height:100%;box-sizing:border-box;background:#0003;top:0;left:0;right:0;bottom:0;overflow-x:hidden}.kc-ant-attack-zone,.kc-tent-zone,.kc-slider-cell,.kc-popper-cell{padding:0 .5rem;box-sizing:border-box;overflow:hidden;position:relative}.kc-grid>div:not(.kc-title):not(.kc-popper-cell){padding-left:clamp(.2rem,.8vw,.6rem);padding-right:clamp(.2rem,.8vw,.6rem);box-sizing:border-box}.kc-tent-zone{grid-area:tent;position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%;overflow:visible;padding:0}.kc-tent-inner-cell{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;aspect-ratio:1 / 1;width:100%;cursor:pointer;overflow:hidden;box-sizing:border-box;touch-action:manipulation}.kc-tent-inner-cell,.kc-grid,.kc-game-frame,.kc-aspect-wrap{touch-action:manipulation;overscroll-behavior:contain}.kc-tent-img{display:block;width:90%;height:90%;object-fit:contain;pointer-events:none;transition:filter .2s}.kc-dino-icon{height:clamp(36px,12vh,90px);width:auto;max-height:22vh;max-width:90%;object-fit:contain;flex-shrink:1;align-self:center;justify-self:center;display:block;animation:mysticalFloat 3s ease-in-out infinite;filter:drop-shadow(0 0 6px #00ffeecc)}.kc-success-msg{position:absolute;font-size:clamp(1.4rem,4.2vh,4rem);color:#fe0;text-shadow:0 0 6px #ffee00aa;font-family:Orbitron,monospace;text-align:center;z-index:2}@media screen and (max-width: 768px),screen and (orientation: portrait){.kc-success-msg{font-size:clamp(1rem,5vw,1.6rem)!important;max-width:85vw}}@keyframes popIn{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}.kc-glow-overlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1;overflow:visible!important;will-change:transform,filter;isolation:isolate;contain:paint layout size}.tent-flash{animation:flash .5s ease-in-out}@keyframes flash{0%,to{filter:brightness(1)}50%{filter:brightness(1.5)}}.fade-in{animation:fadeIn .5s ease forwards}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.kc-tent-zone{grid-area:tent;position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%;overflow:visible}.kc-tent-wrap{--tent-below-h: clamp(70px, 12vh, 140px);position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.kc-tent-grid{position:relative;width:100%;height:auto;min-height:120px;max-height:calc(100% - var(--tent-below-h));aspect-ratio:4 / 6;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr);grid-auto-flow:row;gap:.05rem;padding:.1rem;box-sizing:border-box;background:transparent;overflow:visible}.kc-tent-space-below{flex:0 0 var(--tent-below-h);display:flex;align-items:center;justify-content:center;width:100%;position:relative}.kc-glow-overlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1;overflow:visible!important;will-change:transform,filter}.kc-tent-inner-cell{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;aspect-ratio:1 / 1;width:100%;cursor:pointer;overflow:hidden;box-sizing:border-box}.kc-parking-intro{grid-area:intro;text-align:center;font-size:clamp(1rem,2.5vh,2rem);font-family:Orbitron,sans-serif;color:#fe0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-shadow:0 0 6px #ffee00aa,0 0 12px #ffaa00aa;padding:.2rem .5rem;max-width:100%;transform:translateY(12vh)}.kc-parking-intro-row{grid-column:1 / -1;display:flex;justify-content:center;align-items:center;gap:clamp(1rem,4vw,2rem);width:100%;margin-top:-8vh}.kc-parking-intro-stack{grid-area:intro;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(.4rem,1vh,1rem);width:100%;height:100%;text-align:center;animation:fadeIn .4s ease forwards}.kc-parking-intro.fade-out{opacity:0;transform:translateY(-20px);transition:opacity .3s ease,transform .3s ease}.kc-parking-wrap{display:grid;grid-template-columns:1fr auto 1fr;grid-template-areas:"intro intro intro" "label car button";align-items:center;justify-items:center;width:100%;height:100%;gap:clamp(.4rem,1vw,1.2rem);padding:clamp(.5rem,1vh,1rem);box-sizing:border-box;overflow:hidden}@media (max-height: 700px){.kc-car-zone{max-height:28vh!important;padding-bottom:.5vh}.kc-park-image-btn{max-height:12vh!important;width:clamp(48px,8vh,96px)}.kc-honk-label{font-size:clamp(.6rem,1.6vh,1rem)}}.kc-all-parked-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(1.6rem,5.2vw,3rem);font-family:Orbitron,monospace;font-weight:700;color:#fe0;background:#000000d9;padding:1rem 2rem;border-radius:1rem;box-shadow:0 0 10px #fe0a;text-shadow:0 0 10px #ffee00aa;z-index:20;animation:fadeParked .4s ease-in-out,disappearParked .5s ease-in-out 2s forwards;pointer-events:none}@keyframes fadeParked{0%{opacity:0;transform:translate(-50%,-60%) scale(.8)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes disappearParked{to{opacity:0;transform:translate(-50%,-70%) scale(1.2)}}.kc-slider-cell{display:flex;justify-content:space-between;align-items:center;padding:clamp(.4rem,1vw,1rem);gap:clamp(.5rem,2vw,2rem);min-height:clamp(80px,14vh,120px);overflow:hidden;width:100%;box-sizing:border-box;height:100%}.kc-park-image-btn{all:unset;width:clamp(64px,10vh,120px);height:clamp(64px,10vh,120px);max-height:16vh;aspect-ratio:1 / 1;padding:0;margin:0;display:flex!important;opacity:1!important;pointer-events:auto;justify-content:center;align-items:center;cursor:pointer;grid-area:button;place-self:center end;box-shadow:0 0 8px #af7a,inset 0 0 4px #dfc;border-radius:50%;transition:transform .15s ease;margin-top:-3vh;position:relative;animation:pulseIdle 2.5s ease-in-out infinite}.kc-park-image-btn:hover{transform:scale(1.05)}.kc-park-image-btn:active{transform:scale(.9);box-shadow:0 0 4px #8f5c,inset 0 0 2px #cea}.kc-park-ring{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff6;pointer-events:none;transform:translate(-50%,-50%);z-index:0}.kc-park-image-btn.clicked .kc-park-ring{animation:ringPulse .4s ease-out}.kc-park-icon{width:100%;height:100%;object-fit:contain;pointer-events:none}@keyframes ringPulse{0%{width:0;height:0;opacity:.6;transform:translate(-50%,-50%) scale(.5)}to{width:200%;height:200%;opacity:0;transform:translate(-50%,-50%) scale(1.5)}}@keyframes pulseIdle{0%,to{transform:scale(1);box-shadow:0 0 6px #af7a,inset 0 0 4px #dfc}50%{transform:scale(1.05);box-shadow:0 0 12px #af7,inset 0 0 6px #efd}}.kc-parked-count{color:#f6f;font-family:Orbitron,monospace;font-weight:700;text-shadow:0 0 6px #ff66ffaa}.kc-car-zone{grid-area:car;display:flex;justify-content:center;overflow:hidden;position:relative;max-height:34vh;min-height:18vh;overflow:visible;box-sizing:border-box;align-items:flex-start;padding-top:0;padding-bottom:0;margin-top:-2vh;justify-self:center;align-self:center}.kc-car-zone:empty:before{content:"";display:block;width:clamp(80px,10vw,120px);height:clamp(80px,10vw,120px);pointer-events:none}.kc-car-img{max-height:17vh;object-fit:contain;display:block;margin:0 auto;animation:idleBounce 3.2s ease-in-out infinite,mysticalFloat 4s ease-in-out infinite;filter:drop-shadow(0 0 6px #00ffeecc);transition:transform .2s ease}@keyframes pressSquish{0%{transform:scale(1)}50%{transform:scale(.9)}to{transform:scale(1)}}.kc-car-img:active{transform:scale(.95);animation:pressSquish .25s ease-in-out}@keyframes idleBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-3%)}}.kc-parked-overlay{position:absolute;font-size:2rem;font-weight:700;color:#fe0;text-shadow:0 0 6px #ffee00aa;z-index:10;animation:fadeOut .8s ease forwards}@keyframes fadeOut{0%{opacity:1}to{opacity:0;transform:translateY(-20px)}}.kc-honk-label{grid-area:label;font-family:Orbitron,monospace;font-weight:700;font-size:clamp(.8rem,2vh,1.2rem);line-height:1.2;color:#fe0;text-shadow:0 0 4px #ffee00aa;justify-self:start;padding-left:clamp(.5rem,1.5vw,1rem);text-align:left;margin-top:-3vh;min-height:4.5em}.kc-honk-label div:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.kc-scroller-cell{grid-area:scroller;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;height:100%;min-height:0;overflow:hidden}@media (max-height: 700px){.kc-ant-zone .food-plate-img,.kc-ant-zone .ant1-img,.kc-ant-zone .ant2-img{max-height:16vh}.kc-ant-zone .ant-sprite{width:clamp(16px,1.8vh,24px)}}@media (max-height: 600px){.kc-ant-zone .food-plate-img,.kc-ant-zone .ant1-img,.kc-ant-zone .ant2-img{max-height:14vh}.kc-ant-zone .ant-sprite{width:clamp(14px,1.6vh,20px)}}@media (max-height: 520px){.kc-ant-zone .food-plate-img,.kc-ant-zone .ant1-img,.kc-ant-zone .ant2-img{max-height:12vh}.kc-ant-zone .ant-sprite{width:clamp(12px,1.4vh,18px)}}.kc-ant-attack-zone{grid-area:scroller;display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:100%;height:100%;padding:clamp(.5rem,1.5vh,1rem);box-sizing:border-box;overflow:hidden;position:relative;background:#00000040}.ant-attack-wrapper{grid-area:scroller;display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:100%;height:100%;min-height:100%;padding:clamp(.5rem,1.5vh,2rem);box-sizing:border-box;overflow:visible;position:relative;background:transparent}.kc-ant-zone{flex:1;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:1rem;gap:.5rem;width:100%;height:100%;place-items:center;min-height:200px;position:relative}.kc-ant-zone{position:relative;background:url(picnicBlanket.png) center/cover no-repeat;filter:drop-shadow(0 0 8px rgba(255,255,255,.4))}.kc-ant-zone:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:0 0 12px #ffffff4d;pointer-events:none}.ant-base img.ant-hill-img{width:clamp(40px,10vw,70px);height:auto}.ant-base.red .ant-hill-img{position:absolute;top:0;left:25%;transform:translateY(-50%);width:clamp(40px,10vw,70px);height:auto;z-index:1;margin:0;padding:0}.ant-base.red{position:relative;top:0;left:0;width:100%;height:auto;z-index:1}.ant-base.red img.ant2-img{width:60px;height:auto;object-fit:contain;display:block;margin:0}.ant2-img{position:absolute;top:0;left:0;width:clamp(48px,8vw,72px);height:auto;z-index:5;pointer-events:none;margin:0;padding:0;transform:translate(-30%,-20%)}.ant1-img{position:absolute;bottom:0;right:0;width:clamp(48px,8vw,72px);height:auto;z-index:5;pointer-events:none;margin:0;padding:0;transform:translate(5%,5%)}.ant-base.black{align-self:flex-end;margin-bottom:0;width:100%;position:absolute;bottom:10px;right:10px}.ant-hill-img{position:absolute;bottom:0;right:25%;transform:translateY(40%);width:clamp(40px,10vw,70px);height:auto;z-index:1;filter:drop-shadow(0 0 1px rgb(255,255,255)) drop-shadow(0 0 2px rgba(229,235,255,.869))}.ant-food-center{flex-grow:1;display:flex;align-items:center;justify-content:center}.food-zone{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;width:100%;height:auto;z-index:4}.food-plate-img{max-height:20vh;width:auto;height:120px;object-fit:contain;position:relative;z-index:4;transition:transform .1s ease}.food-with-overlay{position:relative;display:inline-block}.food-weight-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-100%);font-size:clamp(28px,4.5vh,48px);font-weight:700;color:#0f4;text-shadow:0 0 4px #003300;pointer-events:none;z-index:11}.big-snowcone{transform:scale(1.25)}.ant-sprite{will-change:transform,filter}.ant-glow-pink{filter:drop-shadow(0 0 1px rgba(252,0,8,.7)) drop-shadow(0 0 2px rgba(255,1,22,.35))}.ant-glow-white{filter:drop-shadow(0 0 1px rgba(0,153,248,.7)) drop-shadow(0 0 2px rgba(20,66,232,.35))}.ant-btn img.glow-pink{filter:drop-shadow(0 0 1px rgba(252,0,8,.7)) drop-shadow(0 0 2px rgba(255,1,22,.35))}.ant-btn img.glow-white{filter:drop-shadow(0 0 1px rgba(0,153,248,.7)) drop-shadow(0 0 2px rgba(20,66,232,.35))}.kc-ant-zone,.food-zone,.food-container{overflow:visible}.ant-btn-wrap{margin-top:.5rem}.ant-sprite{width:clamp(18px,2vh,28px);height:auto;object-fit:contain;position:absolute;z-index:5;pointer-events:none;will-change:transform}@keyframes crawlAnt{0%{transform:translate(0) rotate(0)}25%{transform:translate(-1px,1px) rotate(-2deg)}50%{transform:translate(1px,-1px) rotate(2deg)}75%{transform:translate(-1px,1px) rotate(-2deg)}to{transform:translate(0) rotate(0)}}.ant-entering{animation:crawlAnt .3s ease-in-out}@keyframes floatUp{0%{transform:translate(-50%,-50%) translateY(0);opacity:1}to{transform:translate(-50%,-50%) translateY(-150px);opacity:1}}.ant-count{position:absolute;bottom:clamp(-12px,-1.6vh,-6px);right:clamp(-12px,-1.6vh,-6px);background:#00000095;color:#00ff04;font-size:clamp(.75rem,1.9vh,1.5rem);font-weight:700;padding:.5em .9em;border-radius:50%;box-shadow:0 0 6px #0006;z-index:10;filter:drop-shadow(0 0 1px rgba(0,153,248,.7)) drop-shadow(0 0 2px rgba(20,66,232,.35))}.bonus-flash{position:absolute;bottom:-20px;right:0;font-size:1rem;font-weight:700;color:#ff0;opacity:0;animation:flash .5s ease-out forwards}@keyframes flash{0%{opacity:0;transform:scale(.5)}50%{opacity:1;transform:scale(1.2)}to{opacity:0;transform:scale(1)}}.food-container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:4}.kc-round-msg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:Orbitron,sans-serif;font-size:2.2em;font-weight:700;padding:.5em 1em;border-radius:16px;opacity:0;transition:opacity .3s ease,transform .3s ease;z-index:99;color:#0f0;text-shadow:0 0 4px #000}.kc-round-msg.visible{opacity:1;transform:translate(-50%,-50%) scale(1.1)}.score-overlay{position:absolute;bottom:clamp(6px,1.2vh,14px);left:clamp(6px,1.2vh,14px);background:#000;font-size:clamp(9px,2.1vh,18px);padding:clamp(4px,1vh,10px) clamp(5px,1.2vh,14px);border-radius:clamp(4px,1vh,10px);color:#0dff00;font-family:Orbitron,monospace;z-index:15;filter:drop-shadow(0 0 1px #fff) drop-shadow(0 0 2px rgba(229,235,255,.869))}@media (max-width: 430px) and (orientation: portrait){.kc-ant-zone .score-overlay{transform-origin:bottom left;transform:scale(.8);will-change:transform}}.ant-btn{position:absolute;bottom:5px;right:-5px;background:none;border:none;cursor:pointer;padding:0}.ant-btn img{width:clamp(40px,8vh,60px);height:auto;object-fit:contain;background:radial-gradient(circle at 30% 20%,#7b84ff,#66ff82);border:2px solid rgba(255,255,255,.25);box-shadow:0 6px 12px #00000059;border-radius:999px}.ant-btn.disabled{opacity:.5;cursor:not-allowed}.ant-feedback{font-size:1.1rem;font-weight:700;margin-top:.5rem;color:#14ff94;opacity:0;transition:opacity .3s ease}.ant-feedback.visible{opacity:1}.kc-parking-intro-lane{grid-area:2 / 1 / 3 / -1;align-self:stretch;justify-self:stretch;position:relative;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:2;contain:layout paint;transform:translateZ(0)}.kc-intro-car-wrap{position:absolute;left:0;right:0;bottom:3.5vh;width:100%;will-change:transform;animation:kc-drive-left var(--drive-dur, 8.2s) linear 1 both}.kc-intro-car-pivot{display:inline-block;transform-origin:50% 60%}.kc-intro-car{height:clamp(64px,14vh,120px);width:auto;object-fit:contain;filter:drop-shadow(0 0 6px #00ffeecc);will-change:transform;transform-origin:50% 70%;animation:car-bobble 1.25s ease-in-out infinite}@keyframes car-bobble{0%{transform:translateY(0) rotate(0)}25%{transform:translateY(-2%) rotate(-2deg)}50%{transform:translateY(0) rotate(1.5deg)}75%{transform:translateY(-1.5%) rotate(2deg)}to{transform:translateY(0) rotate(0)}}.kc-parking-wrap[data-intro=on] .kc-park-image-btn{animation-duration:1.8s}.kc-park-image-btn{transition:transform .12s ease,box-shadow .15s ease}.kc-park-image-btn.clicked{transform:scale(1.08);animation:none!important}.kc-car-img.drive-out-left{animation:carDriveOutLeft .65s cubic-bezier(.22,.61,.36,1) forwards!important;will-change:transform,opacity}@keyframes carDriveOutLeft{0%{transform:translate(0) rotate(0);opacity:1}60%{transform:translate(-90%) rotate(-3deg);opacity:.95}to{transform:translate(-140%) rotate(-4deg);opacity:.85}}.kc-live-car-holder{position:relative;display:flex;align-items:flex-end;justify-content:center;will-change:transform;transform:translateZ(0)}.kc-live-car-holder.drive-out-left{--exit-x: -140vw;--exit-dur: .7s;animation:liveDriveOutLeft var(--exit-dur) cubic-bezier(.22,.61,.36,1) forwards}@keyframes liveDriveOutLeft{0%{transform:translate(0)}to{transform:translate(var(--exit-x, -120vw))}}.kc-mosquito-zone{position:relative;overflow:hidden}.mosq-holder{will-change:transform;transform:translateZ(0)}.mosq-sprite{will-change:transform,opacity;animation:mosqBobble 1.2s ease-in-out infinite}.mosq-enter{animation:mosqPop .22s ease-out}.mosq-splat{animation:mosqFade .42s ease forwards}@keyframes mosqBobble{0%{transform:translateY(0) rotate(0)}25%{transform:translateY(-2px) rotate(-3deg)}50%{transform:translateY(0) rotate(2deg)}75%{transform:translateY(-1px) rotate(3deg)}to{transform:translateY(0) rotate(0)}}@keyframes mosqPop{0%{transform:scale(.88);opacity:0}to{transform:scale(1);opacity:1}}@keyframes mosqFade{0%{transform:scale(1);opacity:1}60%{transform:scale(1.05);opacity:.9}to{transform:scale(.92);opacity:0}}.kc-splat{width:clamp(40px,8vh,72px);height:auto;pointer-events:none;position:fixed;transform:translate(-50%,-50%) scale(.7);opacity:0;filter:drop-shadow(0 0 6px rgba(0,0,0,.35));transition:transform .12s ease,opacity .12s ease;z-index:1000}.kc-splat.in{transform:translate(-50%,-50%) scale(1);opacity:1}.kc-splat.out{transform:translate(-50%,-50%) scale(.9);opacity:0}@media (prefers-reduced-motion: reduce){.mosq-sprite{animation-duration:2.4s!important}}.kc-ant-zone .ant-btn{display:inline-flex;align-items:center;justify-content:center;border-radius:999px;cursor:pointer;background:radial-gradient(circle at 30% 20%,#7b84ff,#66ff82);border:2px solid rgba(255,255,255,.25);box-shadow:0 6px 12px #00000059;transition:transform .1s ease,box-shadow .1s ease;-webkit-tap-highlight-color:transparent}.kc-ant-zone .ant-btn:active{transform:translateY(2px) scale(.96);box-shadow:0 3px 6px #0000004d}.kc-ant-zone .ant-btn img{width:clamp(40px,8vh,60px);height:auto;object-fit:contain;border-radius:999px;pointer-events:none}.kc-no-zoom,.kc-no-zoom *{touch-action:manipulation!important;-webkit-tap-highlight-color:transparent!important}.kc-no-select,.kc-no-select *:not(.allow-select):not(input):not(textarea){-webkit-user-select:none!important;user-select:none!important;-webkit-touch-callout:none!important}.kc-no-select ::selection{background:transparent!important;color:inherit!important}.kc-no-select *::selection{background:transparent!important;color:inherit!important}.kc-no-drag img,.kc-no-drag a,.kc-no-drag svg{-webkit-user-drag:none;user-drag:none}html.kc-no-zoom,body.kc-no-zoom{overscroll-behavior:contain}.allow-select{-webkit-user-select:text!important;user-select:text!important;-webkit-touch-callout:default!important}.mt-aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;overflow:hidden;position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding:0}.mt-game-frame{width:100%;height:100%;position:relative;overflow:hidden}.background-fill.mt-bg-img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:auto;height:100%;max-width:none;object-fit:contain;object-position:center center;z-index:-1}.mt-intro{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;place-items:center;z-index:2}.mt-intro.fade-out{opacity:0;transform:translateY(-8px);transition:opacity .4s ease,transform .4s ease}.mt-intro-stack{width:100%;height:100%;display:grid;grid-template-rows:auto 1fr auto;align-items:center;justify-items:center;gap:clamp(.4rem,1.6vh,1rem);padding:clamp(.4rem,2vh,1rem)}.mt-speech{width:92%;max-width:720px;max-height:24vh;font-family:Orbitron,sans-serif;font-size:clamp(.95rem,1.7vh + .4rem,1.7rem);line-height:1.25;text-align:center;padding:clamp(.5rem,2vh,1rem);background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 16px #0fe5;color:#0fe;text-shadow:0 0 6px #00ffee88;overflow:hidden;animation:mtBubbleIn .6s ease forwards}@keyframes mtBubbleIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.mt-avatar-wrap{display:grid;place-items:center;width:100%;height:100%}.mt-avatar{max-height:clamp(160px,45vh,600px);width:auto;object-fit:contain;filter:drop-shadow(0 0 8px #00ffeeaa)}@keyframes mysticalFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-6px)}}.mt-intro-bottom-btns{width:100%;display:flex;justify-content:center;align-items:center;gap:clamp(.6rem,2vh,1.2rem);padding-bottom:clamp(.2rem,1.6vh,.8rem);z-index:5}.mt-btn{font-family:Orbitron,sans-serif;font-weight:700;border:none;border-radius:16px;padding:clamp(.5rem,1.2vh,.9rem) clamp(.9rem,2vh,1.4rem);font-size:clamp(.8rem,1.9vh,1.2rem);box-shadow:0 0 12px currentColor;cursor:pointer;transition:transform .1s ease,box-shadow .2s ease;-webkit-tap-highlight-color:transparent}.mt-btn:active{transform:scale(.96)}.mt-btn-cyan{background:#0fe;color:#001a1a;text-shadow:0 0 4px #00ffee88}.mt-btn-pink{background:#f6f;color:#fff;text-shadow:0 0 4px #ff66ffaa}.mt-grid{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;grid-template-rows:auto 1fr auto;grid-template-areas:"header" "content" "footer";gap:clamp(.5rem,1.4vh,1rem);padding:clamp(.5rem,1.6vh,1rem);box-sizing:border-box;background:#0000002e;z-index:2}.mt-header{grid-area:header;display:grid;place-items:center;padding:.4rem;background:#00000047;border:1px solid #00ffee55;border-radius:12px}.mt-header h1{font-size:clamp(1rem,2.6vh,1.6rem);color:#0fe;text-shadow:0 0 8px #00ffee88;margin:0}.mt-content{grid-area:content;display:grid;grid-template-rows:1fr auto;gap:.6rem;align-content:start;width:100%;max-width:100%;overflow:hidden}.chat-window{width:100%;height:auto;max-height:42vh;overflow-y:auto;background:#0009;padding:.8rem;border-radius:12px;border:1px dashed #00ffee88;box-sizing:border-box}.chat-input-zone{display:grid;grid-template-columns:1fr auto;gap:.5rem;width:100%;max-width:100%}#userInput{width:100%;min-width:0;padding:.7rem .9rem;font-size:1.1rem;border:2px solid #00ffee;border-radius:10px;background:#000000e6;color:#0fe;outline:none;box-shadow:0 0 8px #0fe8}#sendBtn{padding:.7rem 1.2rem;font-size:1.05rem;border-radius:12px;background-color:#0fe;border:none;color:#001a1a;font-weight:700;cursor:pointer;box-shadow:0 0 10px #0fe8;transition:background .2s ease}#sendBtn:hover{background-color:#3ff}.mt-footer{grid-area:footer;display:grid;place-items:center}.user-msg,.cat-reply{margin:.5rem 0;animation:mtFadeIn .25s ease forwards}.user-msg{color:#0fe}.cat-reply{color:#fd5}@keyframes mtFadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.mt-intro-stack{width:100%;height:100%;display:grid;grid-template-rows:auto minmax(0,1fr) auto;align-items:center;justify-items:center;gap:clamp(.4rem,1.6vh,1rem);padding:clamp(.4rem,2vh,1rem)}.mt-speech{width:92%;max-width:760px;height:auto;max-height:none;overflow:visible;white-space:normal;word-break:break-word;font-family:Orbitron,sans-serif;font-size:clamp(.95rem,1.8vh + .4rem,1.75rem);line-height:1.25;text-align:center;padding:clamp(.6rem,2.2vh,1.2rem);background:#000000d9;border:2px solid #00ffeeaa;border-radius:16px;box-shadow:0 0 16px #0fe5;color:#0fe;text-shadow:0 0 6px #00ffee88;animation:mtBubbleIn .6s ease forwards}.mt-avatar-wrap{display:grid;place-items:center;width:100%;min-height:0}.mt-avatar{height:auto;width:auto;object-fit:contain;filter:drop-shadow(0 0 8px #00ffeeaa)}.mt-intro-bottom-btns{width:92%;margin-inline:auto;display:flex;justify-content:space-between;align-items:center;gap:clamp(.6rem,2vh,1.2rem);padding-bottom:clamp(.2rem,1.6vh,.8rem);z-index:5}@media (max-height: 900px){.mt-speech{font-size:clamp(.6rem,1.4vh + .35rem,1.45rem)}}.mt-aspect-wrap{padding-bottom:env(safe-area-inset-bottom,0)}.cat-reply code,.user-msg code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.95em;background:#ffffff0f;padding:0 .25em;border-radius:6px}.sm-aspect-wrap{width:auto;height:100svh;max-height:100svh;aspect-ratio:11 / 16;max-width:100vw;position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden;margin:0 auto;padding:0}.sm-game-frame,.sm-game-frame *{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;touch-action:manipulation;box-sizing:border-box}.sm-game-frame{width:100%;height:100%;position:relative;display:grid;grid-template-rows:1fr}.sm-bg-img{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:auto;height:100%;max-width:none;object-fit:contain;object-position:center center;z-index:-1;filter:saturate(1.05) contrast(1.02)}.sm-game-frame.sm-is-intro{grid-template-rows:1fr!important}.sm-btn{display:inline-block;width:100%;padding:clamp(.6rem,2vh,.9rem) clamp(1rem,3vw,1.35rem);border-radius:14px;border:none;cursor:pointer;font-weight:800;font-size:clamp(1rem,1.6vh + .4rem,1.25rem);line-height:1.1;transition:transform 80ms ease,filter .2s ease,background-position .24s ease,box-shadow .24s ease,opacity .2s ease;will-change:transform,filter,background-position;color:#001b1b}.sm-btn-primary{background:linear-gradient(135deg,#0fe,#2ef7ff,#0fe);background-size:200% 200%;background-position:0% 50%;box-shadow:0 0 14px #0fe6}.sm-btn-secondary{background:linear-gradient(135deg,#ff2fb2,#ff5ad9);box-shadow:0 0 10px #ff5ad973;color:#140014}.sm-btn[disabled],.sm-btn.is-disabled{opacity:.45;filter:grayscale(.25);cursor:not-allowed;box-shadow:none}.sm-intro{display:grid;width:100%;height:100%;overflow:hidden}.sm-intro-stack{width:92%;margin:0 auto;display:grid;grid-template-rows:minmax(24vh,auto) minmax(36vh,40vh) auto;gap:clamp(.5rem,1.6vh,1rem);padding:clamp(.4rem,1.4vh,.8rem);align-items:center;justify-items:center;min-height:0}.sm-intro,.sm-intro-stack>*{min-height:0}.sm-speech{grid-area:auto;width:100%;text-align:center;color:#d9fff9;text-shadow:0 0 8px rgba(0,255,238,.45);font-family:Orbitron,system-ui,sans-serif;max-width:70ch;font-size:clamp(1.1rem,1.6vh + .6rem,1.55rem);line-height:1.22;display:block;-webkit-line-clamp:unset;overflow:visible;white-space:normal;overflow-wrap:anywhere;word-break:normal;text-wrap:pretty}.sm-director-zone{width:100%;height:100%;display:grid;place-items:center;min-height:0}.sm-director-wrap{max-height:clamp(44vh,48vh,50vh);max-width:100%!important;width:100%;height:100%;display:flex;align-items:flex-end;justify-content:center;padding-bottom:1.2vh}@media (max-height: 640px){.sm-director-wrap{max-width:100%!important}}.sm-director-img{max-height:100%;max-width:100%;height:100%!important;width:auto!important;object-fit:contain;object-position:center bottom;filter:drop-shadow(0 4px 18px rgba(0,255,238,.25))}.sm-intro-buttons{display:grid;grid-auto-flow:row;gap:clamp(8px,1.2vh,12px);width:clamp(200px,58%,480px);margin:0 auto;padding-bottom:max(env(safe-area-inset-bottom),clamp(6px,1.4vh,12px))}.sm-btn{width:100%;padding:clamp(.5rem,1.4vh,.8rem) clamp(.8rem,2vh,1.1rem);border-radius:14px;border:none;cursor:pointer;font-weight:800;font-size:clamp(.9rem,1vh + .45rem,1.15rem);line-height:1.1;transition:transform 80ms ease,filter .2s ease,background-position .24s ease,box-shadow .24s ease,opacity .2s ease;color:#001b1b}.sm-btn:active{transform:translateY(1px) scale(.99)}.sm-btn-primary{background:linear-gradient(135deg,#0fe,#2ef7ff,#0fe);background-size:200% 200%;background-position:0% 50%;box-shadow:0 0 12px #0fe5}.sm-btn-primary:hover{background-position:100% 50%;filter:brightness(1.05)}.sm-btn-secondary{background:linear-gradient(135deg,#ff2fb2,#ff5ad9);box-shadow:0 0 10px #ff5ad959;color:#140014}.sm-btn-secondary:hover{filter:brightness(1.06)}.sm-chapter-menu{display:grid;grid-template-rows:auto 1fr auto;height:100%;padding:clamp(.8rem,2vh,1.6rem);gap:clamp(.6rem,2vh,1rem)}.sm-chapter-title{text-align:center;color:#b8fff8;margin:0;font-size:clamp(1.4rem,2vh + .8rem,2.4rem);text-shadow:0 0 8px rgba(0,255,238,.35);font-family:Orbitron,system-ui,sans-serif}.sm-chapter-list{display:grid;gap:clamp(8px,1.2vh,14px);width:clamp(240px,70%,560px);margin:0 auto;align-content:start}.sm-chapter-note{text-align:center;font-size:clamp(1.2rem,1vh + .55rem,1.05rem);color:#eaffff;opacity:.9}.sm-prologue{position:relative;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:#000c0c;display:grid;grid-template-rows:1fr auto;gap:clamp(.6rem,1.6vh,1rem);padding:clamp(.8rem,2vh,1.4rem)}.sm-typewrap{display:grid;place-items:center;padding:clamp(.2rem,1vh,.6rem)}.sm-type{width:92%;max-width:820px;color:#9ff;text-shadow:0 0 10px rgba(0,255,238,.55);font-family:Orbitron,system-ui,sans-serif;line-height:1.28;letter-spacing:.01em;font-size:clamp(1.15rem,1.3vh + 1rem,2.15rem);white-space:pre-wrap;word-wrap:break-word}.sm-type-caret{display:inline-block;width:.6ch;height:1em;margin-left:.1ch;background:#9ff;box-shadow:0 0 8px #0fea;animation:sm-caret 1s steps(2,jump-none) infinite;vertical-align:-.05em}@keyframes sm-caret{0%,49%{opacity:1}50%,to{opacity:0}}.sm-slide-image{display:block;max-width:80%;height:auto;margin:2vh auto 0;border-radius:1rem;box-shadow:0 0 12px #0006}.sm-prologue-controls{display:grid;gap:clamp(8px,1.2vh,12px);width:clamp(220px,60%,520px);margin:0 auto}.sm-slide{display:grid;place-items:center;width:100%;height:100%}.sm-slide-text{color:#eaffff;text-shadow:0 0 8px rgba(0,255,238,.35);font-family:Orbitron,system-ui,sans-serif;font-size:clamp(1.1rem,1.2vh + 1rem,2rem);line-height:1.25;width:92%;max-width:820px;text-align:center}.sm-slide-img{max-height:60vh;max-width:90%;object-fit:contain;filter:drop-shadow(0 8px 26px rgba(0,255,238,.25))}.sm-reveal{display:grid;gap:clamp(.6rem,1.2vh,1rem);place-items:center}.sm-fade-in{animation:smfadein .26s ease both}@keyframes smfadein{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}.sm-reveal-list{display:grid;gap:clamp(10px,1.2vh,14px);width:92%;max-width:820px;margin:0 auto}.sm-reveal-block{padding:clamp(10px,1.2vh,14px);border-radius:12px;background:#00000059;box-shadow:0 0 10px #0fe4}.sm-reveal-prompt{color:#eaffff;font-family:Orbitron,system-ui,sans-serif;line-height:1.1}.sm-reveal-controls{display:grid;gap:8px;margin-top:8px}.sm-reveal-answer{display:none;color:#9ff;text-shadow:0 0 8px rgba(0,255,238,.45);font-family:Orbitron,system-ui,sans-serif}.sm-reveal-answer.is-open{display:block}.sm-type{font-size:clamp(.95rem,1vh + .75rem,2rem);line-height:1.22}.sm-slide-text{font-size:clamp(1.2rem,.85vh + .75rem,1.2rem);line-height:1.22}.sm-reveal-prompt{font-size:clamp(1.1rem,.8vh + .45rem,1.1rem)}.sm-btn{font-size:clamp(.85rem,.85vh + .35rem,1rem)}@media (max-width: 380px),(max-height: 640px){.sm-slide-text{font-size:clamp(.9rem,.8vh + .45rem,1.05rem)}.sm-speech{font-size:clamp(.9rem,1vh + .4rem,1.05rem)}.sm-btn{font-size:clamp(.8rem,.8vh + .3rem,.95rem)}}.sm-bottom-bar{position:absolute;left:0;right:0;bottom:1.2vh;display:grid;grid-template-columns:1fr 1fr;align-items:end;pointer-events:none;padding:0 1.2vh;bottom:max(1.2vh,env(safe-area-inset-bottom))}.sm-prologue-controls .sm-btn{padding:clamp(.4rem,1.2vh,.7rem) clamp(.7rem,1.8vh,1rem);font-size:clamp(.85rem,.8vh + .35rem,1rem)}.sm-square-btn{pointer-events:auto;width:clamp(44px,6.5vh,84px);height:clamp(44px,6.5vh,84px);border-radius:14%;border:2px solid #ffffff55;background:#0b1530cc;color:#fff;font-size:clamp(18px,3vh,26px);line-height:1;box-shadow:0 6px 16px #00000060,inset 0 0 10px #00e6ff22;display:grid;place-items:center;transition:transform .06s ease,background .2s ease,box-shadow .2s ease;user-select:none;-webkit-user-select:none;touch-action:manipulation}.sm-square-btn.sm-left{justify-self:start}.sm-square-btn.sm-right{justify-self:end}.sm-square-btn:active{transform:translateY(1px) scale(.98)}.sm-square-btn.muted{background:#2a2a2acc;box-shadow:0 6px 16px #00000060,inset 0 0 8px #f372}.sm-chapter-menu{position:relative;min-height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:clamp(.6rem,2vh,1rem)}.sm-fret-wrap{width:92%;max-width:820px;margin:12px auto 0;padding:clamp(10px,1.2vh,14px);border-radius:12px;background:#00000059;box-shadow:0 0 10px #0fe4}.sm-fret-title{color:#eaffff;font-family:Orbitron,system-ui,sans-serif;font-size:clamp(1rem,.9vh + .8rem,1.15rem);margin-bottom:6px}.sm-fret-meta{color:#9ff;font-size:clamp(.9rem,.8vh + .6rem,1rem);margin-bottom:6px;opacity:.9}.sm-fret-range{width:100%;margin:6px 0 8px;accent-color:#00ffee}.sm-fret-readout{color:#eaffff;font-family:Orbitron,system-ui,sans-serif;font-size:clamp(.95rem,.85vh + .7rem,1.05rem)}.sm-interval-tag{margin-left:.5ch;color:#ffe08a;text-shadow:0 0 8px rgba(255,224,138,.35)}.sm-interval-tag.is-emph{font-weight:700}.sm-slide-image{display:block;margin:.5rem auto;max-width:80%;height:auto;border-radius:.5rem}.sm-slide-image.sm-cosmic{max-width:40%}.sm-slide-euclid{max-width:40%;height:auto;margin:1em auto}.sm-slide.sm-practice{position:relative}.sm-slide.sm-practice{--cone-size: clamp(40px, 6vh, 64px);position:relative;padding-bottom:calc(var(--cone-size) + 16px)}.sm-cone-inline{display:block;width:clamp(36px,5.5vh,56px);height:auto;margin:6px auto 0;pointer-events:none}.sm-slide-image-bram{width:clamp(200px,30vw,280px);max-height:45vh;object-fit:contain}.sm-slide-image.sm-slide-legend{max-width:76%;height:auto;margin:1.2vh auto 0}@media (min-height: 780px){.sm-slide-image.sm-slide-legend{max-width:78%}}.sm-slide-image[alt=Gstars]{max-width:80%!important}.sm-bump-galileo{transform:scale(1.18);transform-origin:center center}@media (min-height: 800px){.sm-bump-galileo{transform:scale(1.24)}}.sm-slide-text .sm-slide-image.sm-slide-legend.sm-bump-galileo{max-width:88%!important}.sm-slide-image.sm-slide-legend{max-width:86%!important;height:auto;margin:1.2vh auto 2.2vh;display:block}.sm-slide-image.sm-bump-galileo{transform:scale(1.18);transform-origin:center center;margin-bottom:5vh}.sm-slide-text strong+br+.sm-slide-image{margin-top:4vh}.sm-reveal-list{margin-bottom:6px}.sm-reveal-answer{padding-bottom:0}@media (pointer: fine) and (max-height: 760px){.sm-slide.sm-practice{padding-bottom:clamp(6px,1vh,12px)}.sm-slide.sm-practice .sm-slide-text{font-size:clamp(1rem,.8vh + .7rem,1.1rem);line-height:1.2}.sm-slide.sm-practice .sm-reveal-block{padding:clamp(8px,1vh,12px)}.sm-slide.sm-practice .sm-reveal-prompt{font-size:clamp(.95rem,.75vh + .5rem,1.05rem)}.sm-slide.sm-practice .sm-reveal-answer{font-size:clamp(.9rem,.7vh + .45rem,1rem)}.sm-slide.sm-practice .sm-fret-wrap{padding:clamp(8px,1vh,12px)}.sm-slide.sm-practice .sm-fret-title{font-size:clamp(.9rem,.75vh + .5rem,1.05rem)}.sm-slide.sm-practice .sm-fret-readout{font-size:clamp(.85rem,.7vh + .45rem,.95rem)}.sm-prologue-controls .sm-btn{padding:clamp(.35rem,1vh,.6rem) clamp(.6rem,1.6vh,.9rem);font-size:clamp(.8rem,.7vh + .35rem,.95rem)}.sm-square-btn{width:clamp(40px,5.5vh,72px);height:clamp(40px,5.5vh,72px);font-size:clamp(16px,2.5vh,22px)}}.sm-xp-popup{position:absolute;left:50%;bottom:12vh;transform:translate(-50%) translateY(0);font-family:Orbitron,system-ui,sans-serif;font-size:clamp(1rem,1.2vh + .6rem,1.4rem);color:#9ff;text-shadow:0 0 8px rgba(0,255,238,.55);opacity:0;pointer-events:none;transition:opacity .3s ease}.sm-xp-popup.is-active{animation:xpFloat 1.5s ease forwards}@keyframes xpFloat{0%{opacity:0;transform:translate(-50%)}15%{opacity:1}80%{opacity:1;transform:translate(-50%,-40px)}to{opacity:0;transform:translate(-50%,-50px)}}
