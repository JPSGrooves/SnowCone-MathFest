(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const i="snowcone_save_data";function d(){const t=localStorage.getItem(i);try{return t?JSON.parse(t):c()}catch(r){return console.error("💥 Failed to parse stored data:",r),c()}}function u(t){localStorage.setItem(i,JSON.stringify(t))}function l(t,r){const o=d();o.settings[t]=r,u(o)}function c(){return{settings:{theme:"menubackground",mute:!1},xp:0,badges:[],profile:{name:"",created:Date.now()},story:{currentChapter:0}}}function f(){var s;const t=document.getElementById("menuImage");if(!t){console.warn("🍧 No menuImage element found!");return}let o=(s=d().settings)==null?void 0:s.theme;(!o||typeof o!="string"||o==="default")&&(o="menubackground",l("theme",o)),t.src=`assets/img/branding/${o}.png`,console.log("🧊 Background set to:",o)}const m={};window.addEventListener("DOMContentLoaded",()=>{f();const t=document.createElement("p");t.textContent="✅ JavaScript loaded!",document.body.appendChild(t)});m?console.log("🔐 VITE_SECRET_KEY:","radical123"):console.log("🚨 No VITE_SECRET_KEY found. Is .env missing?");
