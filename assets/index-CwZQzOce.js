(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const a="snowcone_save_data";function l(){const f=localStorage.getItem(a);try{return f?JSON.parse(f):d()}catch(e){return console.error("💥 Failed to parse stored data:",e),d()}}function y(f){localStorage.setItem(a,JSON.stringify(f))}function c(f,e){const o=l();o.settings[f]=e,y(o)}function d(){return{settings:{theme:"menubackground",mute:!1},xp:0,badges:[],profile:{name:"",created:Date.now()},story:{currentChapter:0}}}window.devFlags={build:"v0.1.0"};function u(){var i;const f=document.getElementById("menuImage");if(!f){console.warn("🍧 No menuImage element found!");return}let o=(i=l().settings)==null?void 0:i.theme;(!o||typeof o!="string"||o==="default")&&(o="menubackground",c("theme",o)),f.src=`assets/img/branding/${o}.png`,console.log("🧊 Background set to:",o),g(o)}function g(f){const e=w[f];e&&Object.entries(e).forEach(([o,i])=>{const t=document.querySelector(`.menu-label.${o}`);t&&(t.style.color=i)})}function k(f){const e=document.getElementById("menuImage");if(!e){console.warn("🚨 No #menuImage found to swap.");return}typeof c=="function"&&c("theme",f),e.src=`assets/img/branding/${f}.png`,console.log(`🌌 Swapped to theme: ${f}`)}window.swapBackground=k;const w={menubackground:{kids:"#ff77ff",quick:"#00ffee",tips:"#ffee00",story:"#ff4488",infinity:"#88ccff",options:"#cccccc"},spring:{kids:"#cc66ff",quick:"#00cc99",tips:"#ffcc66",story:"#ff66aa",infinity:"#66ddff",options:"#9999cc"},summer:{kids:"#ffdd00",quick:"#ff6600",tips:"#33cc33",story:"#ff3399",infinity:"#00ddff",options:"#ff9933"},fall:{kids:"#ffaa00",quick:"#ff6600",tips:"#66cc33",story:"#cc6633",infinity:"#ffffff",options:"#663300"},winter:{kids:"#aaddff",quick:"#ffffff",tips:"#66ffff",story:"#ddddff",infinity:"#66ccff",options:"#ccccff"},freedom:{kids:"#ff4444",quick:"#ffffff",tips:"#3366ff",story:"#ffcc00",infinity:"#bbbbbb",options:"#222222"},halloween:{kids:"#ff9933",quick:"#6600cc",tips:"#00cc66",story:"#cc0000",infinity:"#dddddd",options:"#000000"},harvest:{kids:"#ffcc00",quick:"#996633",tips:"#cc9900",story:"#993300",infinity:"#ffffff",options:"#333300"},christmas:{kids:"#00dd00",quick:"#dd0000",tips:"#ffffff",story:"#ff66cc",infinity:"#aaaaaa",options:"#006600"},newyear:{kids:"#ffffff",quick:"#ffcc00",tips:"#999999",story:"#330066",infinity:"#ff00ff",options:"#111111"},valentine:{kids:"#ff6699",quick:"#cc0066",tips:"#ffcccc",story:"#990033",infinity:"#ffe6f0",options:"#660033"},cosmic_01:{kids:"#cc66ff",quick:"#00ffff",tips:"#ffcc00",story:"#ff6699",infinity:"#ffffff",options:"#9999ff"},cosmic_02:{kids:"#ff99cc",quick:"#33ccff",tips:"#ccff66",story:"#ff66cc",infinity:"#cccccc",options:"#6666ff"},cosmic_03:{kids:"#ffffff",quick:"#88ffcc",tips:"#00cc99",story:"#66ccff",infinity:"#ccffff",options:"#333399"},cosmic_04:{kids:"#aaffff",quick:"#ffffff",tips:"#66ccff",story:"#99ccff",infinity:"#33ccff",options:"#005577"},cosmic_05:{kids:"#ffcc00",quick:"#ff9900",tips:"#00ffff",story:"#ff33cc",infinity:"#ffffff",options:"#ff0066"},cosmic_06:{kids:"#000000",quick:"#ff0000",tips:"#ffccff",story:"#330033",infinity:"#ff99ff",options:"#9900cc"},cosmic_07:{kids:"#ffffff",quick:"#ffffff",tips:"#ffffff",story:"#ffffff",infinity:"#ffffff",options:"#ffffff"}};window.setTheme=f=>{c("theme",f),u()};function p(){const f=document.getElementById("infoModal");f&&(f.classList.remove("hidden"),f.style.display="flex")}function m(){const f=document.getElementById("infoModal");f&&(f.classList.add("hidden"),f.style.display="none")}document.addEventListener("DOMContentLoaded",()=>{const f=document.querySelector(".menu-title-top");f?(console.log("🎯 Title found. Binding click."),f.addEventListener("click",()=>{console.log("🎯 Title click detected"),p()})):console.warn("⚠️ .menu-title-top not found!")});document.addEventListener("keydown",f=>{f.key==="Escape"&&m()});console.log("🍧 infoModal.js loaded");window.openInfoModal=p;window.closeInfoModal=m;window.addEventListener("DOMContentLoaded",()=>{u()});console.log("🔐 VITE_SECRET_KEY:","radical123");let r=0;document.addEventListener("touchend",function(f){const e=new Date().getTime();e-r<=300&&f.preventDefault(),r=e},!0);document.addEventListener("gesturestart",function(f){f.preventDefault()});
