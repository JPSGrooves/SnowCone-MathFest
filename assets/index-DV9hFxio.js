(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const a="snowcone_save_data";function l(){const e=localStorage.getItem(a);try{return e?JSON.parse(e):d()}catch(o){return console.error("ğŸ’¥ Failed to parse stored data:",o),d()}}function m(e){localStorage.setItem(a,JSON.stringify(e))}function g(e,o){const n=l();n.settings[e]=o,m(n)}function d(){return{settings:{theme:"menubackground",mute:!1},xp:0,badges:[],profile:{name:"",created:Date.now()},story:{currentChapter:0}}}function p(){var s;const e=document.getElementById("menuImage");if(!e){console.warn("ğŸ§ No menuImage element found!");return}let n=(s=l().settings)==null?void 0:s.theme;(!n||typeof n!="string"||n==="default")&&(n="menubackground",g("theme",n)),e.src=`assets/img/branding/${n}.png`,console.log("ğŸ§Š Background set to:",n)}function u(){var e;(e=document.getElementById("infoModal"))==null||e.classList.remove("hidden")}function f(){var e;(e=document.getElementById("infoModal"))==null||e.classList.add("hidden")}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".menu-title-top");e?(console.log("ğŸ¯ Title found. Binding click."),e.addEventListener("click",()=>{console.log("ğŸ¯ Title click detected"),u()})):console.warn("âš ï¸ .menu-title-top not found!")});document.addEventListener("keydown",e=>{e.key==="Escape"&&f()});console.log("ğŸ§ infoModal.js loaded");window.openInfoModal=u;window.closeInfoModal=f;window.addEventListener("DOMContentLoaded",()=>{p()});console.log("ğŸ” VITE_SECRET_KEY:","radical123");let i=0;document.addEventListener("touchend",function(e){const o=new Date().getTime();o-i<=300&&e.preventDefault(),i=o},!0);document.addEventListener("gesturestart",function(e){e.preventDefault()});
